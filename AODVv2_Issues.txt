To check:

Subject: [manet] DYMO/AODVv2 and LOADng -- Problems and Proposed Solutions
From: Marius Portmann <marius at itee.uq.edu.au>
Date: Tue, 4 Dec 2012 05:21:00 +0000

============================================================================

Subject: [manet] Fwd: I have some questions about AODV in MANET!
From: "Stan Ratliff (sratliff)" <sratliff at cisco.com>
Date: Fri, 7 Dec 2012 17:59:50 +0000

============================================================================
----------- Technical questions from Sue Hares --------------
Subject: [manet] Hares technical question 1: Design of sequence numbers (warning long post)
From: "Susan Hares" <shares at ndzh.com>
Date: Mon, 14 Jan 2013 00:03:28 -0500

Subject: [manet] Hares Technical Question 2: order of address in TLV
From: "Susan Hares" <shares at ndzh.com>
Date: Mon, 14 Jan 2013 00:15:04 -0500

Subject: [manet] Technical issue 3: default route (Route.pfxlen)
From: "Susan Hares" <shares at ndzh.com>
Date: Mon, 14 Jan 2013 00:39:31 -0500

Subject: [manet] Hares Technical Issue 4 - GTSM
From: "Susan Hares" <shares at ndzh.com>
Date: Mon, 14 Jan 2013 00:52:45 -0500

Subject: [manet] Technical issue #6 - Non-optimal routes (warning - long post)
From: "Susan Hares" <shares at ndzh.com>
Date: Mon, 14 Jan 2013 01:01:00 -0500

Subject: [manet] Technical issue #7 - AODV can loose route replies - warning longer post
From: "Susan Hares" <shares at ndzh.com>
Date: Mon, 14 Jan 2013 01:18:30 -0500



========================== First Issue ===================================
[manet] #1: Discussion about naming for the IETF reactive protocol
==========================================================================

On 10/18/2012 5:21 PM, manet issue tracker wrote:
> #1: Discussion about naming for the IETF reactive protocol
>
>  The name DYMO was chosen for the reactive protocol as a compromise to
>  avoid the appearance of favoritism.  The two experimental reactive
>  protocols were named "DSR" and "AODV" (standing for "Dynamic Source
>  Routing" and "Ad-hoc Distance Vector" routing respectively).
>
>  In the meantime, AODV has maintained quite a bit more interest within the
>  IETF community compared to DSR, and there is quite a bit less name
>  recognition for "DYMO" compared to either AODV or DSR.
>
>  After discussions at IETF 82 and also preceding IETF 83, it was decided to
>  capitalize on the name recognition of AODV by renaming the IETF reactive
>  protocol to be "AODVv2", in analogy to the choice of OLSRv2 for the IETF
>  standard proactive protocol derived from OLSR which was published as an
>  IETF Experimental Protocol.
>
>  For the publication of future IETF reactive protocol documents, it is
>  proposed to adhere to the name AODVv2, even though that acronym does not
>  yet appear in the filename for the reactive protocol specification.

==========================================================================

On 10/19/2012 7:25 AM, Bo Berry wrote:
> Charlie
> Version 22 has a March 12, 2012 date.  Suggest you 
> update with a new date.
>
> -Bo

==========================================================================

On 1/19/2013 1:20 PM, manet issue tracker wrote:
> #1: Discussion about naming for the IETF reactive protocol
>
>
> Comment (by abdussalambaryun@gmail.com):
>
>  I agree with the name as AODVv2 is suitable for the new reactive protocol
>  because it depends on the AODVv1. As we new versions of protocols like IP.
>


==========================================================================

On 5/17/2013 8:15 AM, manet issue tracker wrote:
> #1: Discussion about naming for the IETF reactive protocol
>
> Comment (by abdussalambaryun@gmail.com):
>
>  I hope to close this issue, as no objection to the new name AODVv2. For
>  progress, could we start closing the discussion tickets, or there is
>  another way to progress the protocol. Please advise,

===================== Next Issue from Issue Tracker ======================
[manet] #2: Terminology for reactive protocol document
==========================================================================

On 10/30/2012 10:42 AM, manet issue tracker wrote:
> #2: Terminology for reactive protocol document
>
>  Several people have commented that the DYMO/AODVv2 specification is hard
>  to understand.  Part of the problem is that the terminology is not always
>  consistent with the terminology used in other documents (e.g., OLSRv2).
>  Also, some of the language used in the document is not very natural.
>  Finally, important datasets within the reactive protocol document should
>  be identified and used consistently within the specification.  As one
>  example, the fields of a Route Table Entry are already listed in section
>  4.1.  Other such datasets should be identified and made more precise (for
>  instance, as may be needed for blacklisted neighbors).  Another possible
>  source of confusion is that some terms (e.g., OrigNode) might be thought
>  to mean different things in different parts of the document.
>
>  The proposal is to use terminology from OLSRv2 where appropriate, and to
>  change the names of other important concepts within the reactive protocol
>  wherever they may be unclear, and to attempt to use terms that mean the
>  same thing throughout the document.

============================================================================

On 11/1/2012 12:43 PM, Abdussalam Baryun wrote:
> I always supported that terminology documents SHOULD be considered in all
> IETF WGs, and also I noted in my input the reasons for unclear issues
> because of terms and some detail information which I got to understan
> after DYMO authors reply. However, I do encourge using similar term
> within all MANET WG documents, however, terms definitions should relat
> to such specifications.

===================== Next Issue from Issue Tracker ======================
[manet] #3: Use msg-hop-count in RFC 5444 header to limit # of hops
==========================================================================

On 10/30/2012 11:07 AM, manet issue tracker wrote:
> #3: Use msg-hop-count in RFC 5444 header to limit # of hops
>
>  The current AODVv2 specification uses msg-hop-limit to control the
>  dissemination of routing messages.  It is proposed instead to use msg-hop-
>  count to have a direct hop count for disseminated routing messages, and to
>  use a protocol constant to limit the number of hops (e.g., MAX_HOP_COUNT
>  == 64).  Even 64 is too much for practically any foreseeable ad hoc
>  network.  For networks that need to have finer-grained control (e.g.,
>  controlling dissemination to be less than the manifest constant), msg-hop-
>  limit could be used for just those messages needing it.  The specification
>  can (independently) still specify TTL=255 according to RFC 5082.

============================================================================

On 11/1/2012 5:18 AM, Thomas Heide Clausen wrote:
> That would be a direct violation of the definition of <msg-hop-limit> and <msg-hop-count> in RFC5444, and would render any generic demultiplexing/dispatching/forwarding framework inapplicable.
>
> This proposal is, therefore, not acceptable under any circumstances.

============================================================================

On 11/1/2012 6:50 AM, Dearlove, Christopher (UK) wrote:
> I must be missing something here. I think I have an idea what it is, but
> let's confirm.
>
> Let's consider an RREQ message, which is flooded. The issue is, does it
> mutate on its travels? If not, I don't see why we can't use the 5444 hop
> limit. If it does, then that is not technically an issue for 5444, but
> does have two bad effects:
>
> - There is a general processing/forwarding engine described in OLSRv2.
> In an ideal world this is another thing that should be in a separate draft.
> It is designed for wider use (hence its inclusion of message type). There
> are reasons I would find that a good model for what I'm going to call
> son-of-AODV, whatever that ends up being based on and called.
>
> - Unmutated (other than hop count/limit) messages work well with message
> signatures described in 6622 for end to end verification. Mutating messages
> are a bigger headache. They need either new signatures each hop, in which
> case let's just not bother signing messages, but let's sign packets - a
> valid choice, but loses a tool - or some sort of difference collecting and
> aggregating signature that I know nothing about, and may not even exist.
>
> I'm guessing Thomas is against this case. But more details needed. (The IP
> TTL being a separate issue is I think common ground.)

============================================================================

On 11/1/2012 10:43 AM, Charles E. Perkins wrote:
>
> Hello Chris,
>
> RFC 5444 has this:
>
>    o  <msg-hop-count> field, if present, contains the number of hops on
>       which the packet has traveled across the MANET.  The <msg-hop-
>       count> is set to 0 by the message originator and is used to
>       prevent messages from endlessly circulating in a MANET. When
>       forwarding a message, a MANET router should increase <msg-hop-
>       count> by 1 and should discard the message when <msg-hop-count>
>       reaches 255.
>
> From this, I conclude that the purpose of the field is to count the
> number of hops a message has traversed.
>
> Am I missing something?

============================================================================

On 11/1/2012 10:45 AM, Henning Rogge wrote:
> On Thu, Nov 1, 2012 at 6:43 PM, Charles E. Perkins
> <charliep@computer.org> wrote:
>>
>> Hello Chris,
>>
>> RFC 5444 has this:
>>
>>    o  <msg-hop-count> field, if present, contains the number of hops on
>>       which the packet has traveled across the MANET.  The <msg-hop-
>>       count> is set to 0 by the message originator and is used to
>>       prevent messages from endlessly circulating in a MANET. When
>>       forwarding a message, a MANET router should increase <msg-hop-
>>       count> by 1 and should discard the message when <msg-hop-count>
>>       reaches 255.
>>
>> From this, I conclude that the purpose of the field is to count the
>> number of hops a message has traversed.
>>
>> Am I missing something?
>
> If DYMO changes the content of a message, its not the same message
> anymore. At least thats how I understand this field.
>
> You could not put a signature on it "end to end" for example.
>
> Henning Rogge

============================================================================

On 11/1/2012 11:04 AM, Charles E. Perkins wrote:
>
> Hello Henning,
>
> RFC 5444 also says this:
>
>    o  For forwarded messages where the message is unchanged by
>       forwarding MANET routers, end-to-end authentication and integrity
>       MAY be implemented, between MANET routers with an existing
>       security association, by including a suitable Message TLV
>       containing a cryptographic signature in the message.  Since <msg-
>       hop-count> and <msg-hop-limit> are the only fields that should be
>       modified when such a message is forwarded in this manner, this
>       signature can be calculated based on the entire message, including
>       the Message Header, with the <msg-hop-count> and <msg-hop-limit>
>       fields set to 0, if present.
>
> I think this means that the msg-hop-count can be incremented while
> the other content of the message remains the same.

============================================================================

On 11/1/2012 11:05 AM, Henning Rogge wrote:
> On Thu, Nov 1, 2012 at 7:04 PM, Charles E. Perkins
> <charliep@computer.org> wrote:
>> Hello Henning,
>>
>> RFC 5444 also says this:
>>
>>    o  For forwarded messages where the message is unchanged by
>>       forwarding MANET routers, end-to-end authentication and integrity
>>       MAY be implemented, between MANET routers with an existing
>>       security association, by including a suitable Message TLV
>>       containing a cryptographic signature in the message.  Since <msg-
>>       hop-count> and <msg-hop-limit> are the only fields that should be
>>       modified when such a message is forwarded in this manner, this
>>       signature can be calculated based on the entire message, including
>>       the Message Header, with the <msg-hop-count> and <msg-hop-limit>
>>       fields set to 0, if present.
>>
>> I think this means that the msg-hop-count can be incremented while
>> the other content of the message remains the same.
>
> Yes... similar to the IP TTL/Hopcount field.
>
> But nothing else. I think the issue was that DYMO is changing the
> content of the messages hop-by-hop (the metric value towards to
> originator).

============================================================================

On 11/1/2012 12:17 PM, Abdussalam Baryun wrote:
> I agree with the proposal, it seems with advantages, but there maybe
> disadvantages (i.e. violation to rfc5444) that need to be fixed. I don't
> think it is flexible to use only the hop-limit for rfc5444 messages for
> better dissimination, using other fields will give advantages. It may be
> considered to modify RFC5444 in future to accomodate reactive protocols
> advantages.

============================================================================

On 11/1/2012 12:29 PM, Abdussalam Baryun wrote:

> A RREQ as rfc5444 message controlling its dissimination by using hop-count
> with hop-limit. OLSRv2 messages SHOULD be handled differently than AODVv2
> messages, even if they are both rfc5444 messages, because the protocol that
> uses RFC5444 format is the only one that can specify its messages types and
> handlings.
>  
> I do agree to use of signatures for rfc5444 packets only in AODVv2,

============================================================================

On 6/12/2013 3:41 PM, manet issue tracker wrote:
> #3: Use msg-hop-count in RFC 5444 header to limit # of hops
>
>
> Comment (by charliep@computer.org):
>
>  ----
>  From: Thomas Heide Clausen 11/1/2012 5:18 AM --
>  That would be a direct violation of the definition of <msg-hop-limit> and
>  <msg-hop-count> in RFC5444, and would render any generic
>  demultiplexing/dispatching/forwarding framework inapplicable.
>
>  This proposal is, therefore, not acceptable under any circumstances.
>
>  ----
>  From: Dearlove, Christopher (UK) 11/1/2012 6:50 AM ----
>
>  Let's consider an RREQ message, which is flooded. The issue is, does it
>  mutate on its travels? If not, I don't see why we can't use the 5444 hop
>  limit. If it does, then that is not technically an issue for 5444, but
>  does have two bad effects:
>  - There is a general processing/forwarding engine described in OLSRv2. In
>  an ideal world this is another thing that should be in a separate draft.
>  It is designed for wider use (hence its inclusion of message type). There
>  are reasons I would find that a good model for what I'm going to call son-
>  of-AODV, whatever that ends up being based on and called.
>  - Unmutated (other than hop count/limit) messages work well with message
>  signatures described in 6622 for end to end verification. Mutating
>  messages are a bigger headache. They need either new signatures each hop,
>  in which case let's just not bother signing messages, but let's sign
>  packets - a valid choice, but loses a tool - or some sort of difference
>  collecting and aggregating signature that I know nothing about, and may
>  not even exist.
>
>  -------
>  From: Charles E. Perkins 11/1/2012 10:43 AM -------
>
>  RFC 5444 has this:
>
>     o  <msg-hop-count> field, if present, contains the number of hops on
>        which the packet has traveled across the MANET.  The <msg-hop-
>        count> is set to 0 by the message originator and is used to
>        prevent messages from endlessly circulating in a MANET. When
>        forwarding a message, a MANET router should increase <msg-hop-
>        count> by 1 and should discard the message when <msg-hop-count>
>        reaches 255.
>
>  From this, I conclude that the purpose of the field is to count the
>  number of hops a message has traversed.
>
>  -------
>  From: Henning Rogge 11/1/2012 10:45 AM -------
>
>  If DYMO changes the content of a message, its not the same message
>  anymore. At least thats how I understand this field.
>
>  You could not put a signature on it "end to end" for example.
>
>  -------
>  From: Charles E. Perkins 11/1/2012 11:04 AM -------
>  RFC 5444 also says this:
>
>     o  For forwarded messages where the message is unchanged by
>        forwarding MANET routers, end-to-end authentication and integrity
>        MAY be implemented, between MANET routers with an existing
>        security association, by including a suitable Message TLV
>        containing a cryptographic signature in the message.  Since <msg-
>        hop-count> and <msg-hop-limit> are the only fields that should be
>        modified when such a message is forwarded in this manner, this
>        signature can be calculated based on the entire message, including
>        the Message Header, with the <msg-hop-count> and <msg-hop-limit>
>        fields set to 0, if present.
>
>  I think this means that the msg-hop-count can be incremented while
>  the other content of the message remains the same.
>
>  -------
>
>  On 11/1/2012 12:17 PM, Abdussalam Baryun wrote:
>
>  I agree with the proposal, it seems with advantages, but there maybe
>  disadvantages (i.e. violation to rfc5444) that need to be fixed. I don't
>  think it is flexible to use only the hop-limit for rfc5444 messages for
>  better dissimination, using other fields will give advantages. It may be
>  considered to modify RFC5444 in future to accomodate reactive protocols
>  advantages.

============================================================================

On 6/12/2013 5:09 PM, Charles E. Perkins wrote:
> Hello folks,
>
> I have collected the previous discussion about issue #3 and
> posted the the technical parts of the discussion to the issue tracker,
> as reproduced before.  If I have missed any points of the discussion,
> please let me know and I will similarly post those points also to
> the issue tracker.
>
> While the technical matters involved with issue #3 may still be of
> interest and open to discussion, I think that the discussion is no
> longer relevant to the working group document, because there isn't
> much motivation to make the necessary protocol changes to
> utilize the idea.  For this reason, I propose to close the issue without
> making any changes to the document.
>
> Regards,
> Charlie P.
>
> PS. My plan is to similarly collect the technical discussions related
>       to the other issues, and to propose a resolution for each one,
>       according to the current state of the AODVv2 document, based
>       on the points raised during the discussion.
>
> On 6/12/2013 3:41 PM, manet issue tracker wrote:
>> #3: Use msg-hop-count in RFC 5444 header to limit # of hops
>>
>>
>> Comment (by charliep@computer.org):
>>
>>   ----
>>   From: Thomas Heide Clausen 11/1/2012 5:18 AM --
>>   That would be a direct violation of the definition of <msg-hop-limit> and
>>   <msg-hop-count> in RFC5444, and would render any generic
>>   demultiplexing/dispatching/forwarding framework inapplicable.
>>
>>   This proposal is, therefore, not acceptable under any circumstances.
>>
>>   ----
>>   From: Dearlove, Christopher (UK) 11/1/2012 6:50 AM ----
>>
>>   Let's consider an RREQ message, which is flooded. The issue is, does it
>>   mutate on its travels? If not, I don't see why we can't use the 5444 hop
>>   limit. If it does, then that is not technically an issue for 5444, but
>>   does have two bad effects:
>>   - There is a general processing/forwarding engine described in OLSRv2. In
>>   an ideal world this is another thing that should be in a separate draft.
>>   It is designed for wider use (hence its inclusion of message type). There
>>   are reasons I would find that a good model for what I'm going to call son-
>>   of-AODV, whatever that ends up being based on and called.
>>   - Unmutated (other than hop count/limit) messages work well with message
>>   signatures described in 6622 for end to end verification. Mutating
>>   messages are a bigger headache. They need either new signatures each hop,
>>   in which case let's just not bother signing messages, but let's sign
>>   packets - a valid choice, but loses a tool - or some sort of difference
>>   collecting and aggregating signature that I know nothing about, and may
>>   not even exist.
>>
>>   -------
>>   From: Charles E. Perkins 11/1/2012 10:43 AM -------
>>
>>   RFC 5444 has this:
>>
>>      o  <msg-hop-count> field, if present, contains the number of hops on
>>         which the packet has traveled across the MANET.  The <msg-hop-
>>         count> is set to 0 by the message originator and is used to
>>         prevent messages from endlessly circulating in a MANET. When
>>         forwarding a message, a MANET router should increase <msg-hop-
>>         count> by 1 and should discard the message when <msg-hop-count>
>>         reaches 255.
>>
>>   From this, I conclude that the purpose of the field is to count the
>>   number of hops a message has traversed.
>>
>>   -------
>>   From: Henning Rogge 11/1/2012 10:45 AM -------
>>
>>   If DYMO changes the content of a message, its not the same message
>>   anymore. At least thats how I understand this field.
>>
>>   You could not put a signature on it "end to end" for example.
>>
>>   -------
>>   From: Charles E. Perkins 11/1/2012 11:04 AM -------
>>   RFC 5444 also says this:
>>
>>      o  For forwarded messages where the message is unchanged by
>>         forwarding MANET routers, end-to-end authentication and integrity
>>         MAY be implemented, between MANET routers with an existing
>>         security association, by including a suitable Message TLV
>>         containing a cryptographic signature in the message.  Since <msg-
>>         hop-count> and <msg-hop-limit> are the only fields that should be
>>         modified when such a message is forwarded in this manner, this
>>         signature can be calculated based on the entire message, including
>>         the Message Header, with the <msg-hop-count> and <msg-hop-limit>
>>         fields set to 0, if present.
>>
>>   I think this means that the msg-hop-count can be incremented while
>>   the other content of the message remains the same.
>>
>>   -------
>>
>>   On 11/1/2012 12:17 PM, Abdussalam Baryun wrote:
>>
>>   I agree with the proposal, it seems with advantages, but there maybe
>>   disadvantages (i.e. violation to rfc5444) that need to be fixed. I don't
>>   think it is flexible to use only the hop-limit for rfc5444 messages for
>>   better dissimination, using other fields will give advantages. It may be
>>   considered to modify RFC5444 in future to accomodate reactive protocols
>>   advantages.

===================== Next Issue from Issue Tracker ======================
[manet] #4: Change to handling of Route.Dist for AdditionalNode
        routing information
==========================================================================

On 11/2/2012 7:41 PM, manet issue tracker wrote:
> #4: Change to handling of Route.Dist for AdditionalNode routing information
>
>  Normal RREQ + RREP processing for route information always requires
>  inclusion of a valid Route.Dist (i.e., Hop Count [as of the current
>  revision]).  Optionally, routing information related to "Additional Nodes"
>  can be included for nodes that are not themselves AODVv2 routers.  For
>  such nodes, provision has been made to include relevant information (e.g.,
>  next hop) without requiring a valid Route.Dist for the additional node.
>  However, this makes some of the specification more difficult to
>  understand.  The same effect can be achieved by assigning a large value
>  for Route.Dist, so that any measured hop count will have the proper effect
>  of updating the route table entry.  Such a parameter is available now,
>  namely MAX_HOPCOUNT.  This only affects the optional inclusion of routing
>  information about Additional Nodes.

============================================================================

On 6/13/2013 1:36 PM, Charles E. Perkins wrote:

> This change has been superceded in the specification without noticeable
> loss of function or any disagreement.  It does not seem to have any bad
> interaction with the way the specification deals with alternative metrics.
>
> I think the issue can be safely closed, unless there is anyone with more
> relevant discussion points.

===================== Next Issue from Issue Tracker ======================
[manet] #5: Reorganizing the route table entry timeout management
==========================================================================


On 11/4/2012 8:52 PM, manet issue tracker wrote:
> #5: Reorganizing the route table entry timeout management
>
>  The current set of route timeouts and concepts is confusing.  Instead, one
>  can view a route table entry as having a normal lifetime progressing
>  through the following stages: Active --> Idle --> Expired --> Expunged.
>  Alternatively a route can be prematurely invalidated if one of its path
>  components breaks (i.e., the link to a next hop breaks).  By reorganizing
>  route lifetime information in this way, a much simpler description can be
>  given.  The following proposed text should make this approach clearer.
>  Instead of previous manifest constants for various timeout information,
>  the new approach only requires ACTIVE_INTERVAL, MAX_IDLETIME, and
>  MAX_SEQNUM_LIFETIME.  The following text has been (provisionally) added to
>  Section 4.1.
>
>  ========================================================================
>
>     A route table entry (i.e., a route) may be in one of the following
>     states:
>
>     Active
>        An Active route is in current use for forwarding packets
>
>     Idle
>        An Idle route can be used for forwarding packets, even though it
>        is not in current use
>
>     Expired
>        After a route has been idle for too long, it expires, and may no
>        longer be used for forwarding packets
>
>     Broken
>        A route marked as Broken cannot be used for forwarding packets but
>        still has valid destination sequence number information.
>
>     The route's state determines the operations that can be performed on
>     the route table entry.  During use, an Active route is maintained
>     continuously by AODVv2 and is considered to remain active as long as
>     it is used at least once every ACTIVE_INTERVAL.  When a route is no
>     longer Active, it becomes an Idle route.  After a route remains Idle
>     for MAX_IDLETIME, it becomes an Expired route; after that, the route
>     is not used for forwarding, but the sequence number information is
>     maintained until the destination sequence number has had no updates
>     for MAX_SEQNUM_LIFETIME.  After MAX_SEQNUM_LIFETIME, old sequence
>     number information is considered no longer valuable and the route is
>     expunged.
>
>     MAX_SEQNUM_LIFETIME is the time after a reboot during which an AODVv2
>     router MUST NOT transmit any routing messages.  Thus, if all other
>     AODVv2 routers expunge routes to the rebooted router after that time
>     interval, the rebooted AODVv2 router's sequence number will not be
>     considered stale by any other AODVv2 router in the MANET.
>
>     When the link to a route's next hop is broken, the route is in the
>     Broken state, and it may no longer be used.
>
>  ========================================================================
>
>  Note that if (ACTIVE_INTERVAL + MAX_IDLETIME) == MAX_SEQNUM_LIFETIME,
>  then a route has to be expunged as soon as it has been idle too long.
>  This has little negative impact on the base protocol but may eliminate the
>  possibility for some optional features related to route repair.

============================================================================

On 11/5/2012 10:37 AM, manet issue tracker wrote:
> #5: Reorganizing the route table entry timeout management
>
>
> Comment (by charliep@…):
>
>  It is possible for incoming !RteMsg information to supply a VALIDITY_TIME
>  for the information, which has the effect of creating additional state for
>  the relevant route table entry.   VALIDITY_TIME amounts to a
>  respecification of (ACTIVE_INTERVAL + MAX_IDLETIME) for the routing
>  information, in that a route MUST be expired after the route table entry
>  was maintained for the VALIDITY_TIME.  A proposal is to do this by adding
>  a "validity_expiration" field to the route table entry.

============================================================================

On 2/8/2013 3:22 PM, Charles E. Perkins wrote:

> The route table timeout issue and proposed resolution has been incorporated
> in the most recent revisions for the AODVv2 specification.  If the new timeout
> structure and definitions are satisfactory, the AODVv2 editing team will
> consider closing issue #5.  Please let us know if there is any objection to
> closing the issue.

============================================================================

On 2/8/2013 5:00 PM, Abdussalam Baryun wrote:
> +1
>
> I have no objection.

============================================================================

On 2/11/2013 12:03 AM, Abdussalam Baryun wrote:
> I advise not to close any related issue until Chair makes input. We
> still not received the email of chair regarding editing team of the
> reactive protocol. IMO, it is reasonable to close WG-issues only after
> receiving the Chair's advises. Otherwise why the chair is a chair, I
> think the chair helps to close such WG issues. The co-chair mentioned
> to continue WG discuss or I may understand to open issues but not
> understand to close issues,
>
> If I mistaken or missed something please advise,

============================================================================

On 6/24/2013 4:51 PM, Charles E. Perkins wrote:

> I'm not sure who has the authority to close issues, but if the submitter
> believes that the issue can be closed, and no one in the working group
> disagrees, then I reckon it's O.K. for the issue to close.
>
> So I think that this issue can be closed :-)  I have not seen any disagreement.

===================== Next Issue from Issue Tracker ======================
[manet] #6: sequence number incrementation mandate
==========================================================================

On 11/4/2012 9:07 PM, manet issue tracker wrote:
> #6: sequence number incrementation mandate
>
>  Previous versions of DYMO *strongly recommend* incrementation of
>  !OwnSeqNum upon generation of every new RREQ or RREP message, but do not
>  impose a strict mandate.  This leads to some uncertainty about whether
>  there are cases when the incrementation should not be performed.
>  Demonstrations have been made in the past about the differences, but it is
>  not clear that these differences have caused any performance degradation.
>
>  For the purposes of making the current document more readable, and since
>  there seems to be little downside, it is proposed to change "SHOULD"
>  increment to "MUST" increment in all relevant cases, including RREQ
>  retries.
>  If future studies illustrate the circumstances under which sequence number
>  incrementation may be avoided, description of those circumstances should
>  be added to the document and the specification changed in those
>  circumstances.

============================================================================

On 6/24/2013 4:59 PM, Charles E. Perkins wrote:

> The stronger mandate has been specified in recent revisions of the document.
> Doing so has, as expected, simplified numerous parts of the overall
> specification, > and no objections have been expressed for this proposed
> resolution of the issue.
>
> For this reason, I believe it is reasonable to close the issue, unless
> there are use cases suggested to the mailing list for reducing the strength
> of the mandate back to its previous status of "SHOULD".

===================== Next Issue from Issue Tracker ======================
[manet] #7: Top level document organization
==========================================================================

On 11/5/2012 12:15 PM, manet issue tracker wrote:
> #7: Top level document organization
>
>  Previous revisions have collected together various sections describing
>  base protocol features into a top-level section entitled "Detailed
>  Operation for the Base Protocol".  However, this does not seem to provide
>  very much guidance for finding appropriate sections of the document, and
>  some of the subsections seem better suited to be described in their own
>  high-level sections.  There is another section devoted to Optional
>  Features, and it seems that already provides a pretty good way to separate
>  Base features from Optional features.  It is proposed to eliminate the
>  abovementioned top-level section and promote its subsections to be top-
>  level sections.
>
>  Here is a snapshot of the Table of Contents, still subject to minor
>  changes:
>
>  {{{
>  Table of Contents
>
>     1.  Overview . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
>     2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  5
>     3.  Applicability Statement  . . . . . . . . . . . . . . . . . . .  7
>     4.  Data Structures  . . . . . . . . . . . . . . . . . . . . . . .  8
>       4.1.  Route Table Entry  . . . . . . . . . . . . . . . . . . . .  8
>       4.2.  AODVv2 Message Structure and Information Elements  . . . . 10
>       4.3.  RteMsg-specific Protocol Elements  . . . . . . . . . . . . 13
>       4.4.  Route Error (RERR)-specific Protocol Elements  . . . . . . 14
>     5.  AODVv2 Sequence Numbers  . . . . . . . . . . . . . . . . . . . 14
>     6.  AODVv2 Operations on Route Table Entries . . . . . . . . . . . 15
>       6.1.  Evaluating Incoming Routing Information  . . . . . . . . . 15
>       6.2.  Creating or Updating Route Table Entries . . . . . . . . . 17
>       6.3.  Route Table Entry Timeouts . . . . . . . . . . . . . . . . 17
>     7.  Routing Messages . . . . . . . . . . . . . . . . . . . . . . . 18
>       7.1.  RREQ Creation  . . . . . . . . . . . . . . . . . . . . . . 18
>       7.2.  RREP Creation  . . . . . . . . . . . . . . . . . . . . . . 19
>       7.3.  Handling a Received RteMsg . . . . . . . . . . . . . . . . 19
>     8.  Route Discovery, Retries, and Buffering  . . . . . . . . . . . 21
>     9.  Route Maintenance  . . . . . . . . . . . . . . . . . . . . . . 22
>       9.1.  Active Next-hop Router Adjacency Monitoring  . . . . . . . 22
>       9.2.  Handling Route Lifetimes During Packet Forwarding  . . . . 23
>       9.3.  RERR Generation  . . . . . . . . . . . . . . . . . . . . . 23
>       9.4.  Receiving and Handling RERR Messages . . . . . . . . . . . 24
>     10. Unknown Message and TLV Types  . . . . . . . . . . . . . . . . 25
>     11. Advertising Network Addresses  . . . . . . . . . . . . . . . . 25
>     12. Simple Internet Attachment . . . . . . . . . . . . . . . . . . 25
>     13. Multiple Interfaces  . . . . . . . . . . . . . . . . . . . . . 27
>     14. AODVv2 Control Packet/Message Generation Limits  . . . . . . . 27
>     15. Optional Features  . . . . . . . . . . . . . . . . . . . . . . 27
>       15.1. Expanding Rings Multicast  . . . . . . . . . . . . . . . . 28
>       15.2. Intermediate RREP  . . . . . . . . . . . . . . . . . . . . 28
>       15.3. Precursor Notification . . . . . . . . . . . . . . . . . . 28
>         15.3.1.  Overview  . . . . . . . . . . . . . . . . . . . . . . 28
>         15.3.2.  Precursor Notification  . . . . . . . . . . . . . . . 28
>       15.4. Reporting Multiple Unreachable Nodes . . . . . . . . . . . 30
>       15.5. Message Aggregation  . . . . . . . . . . . . . . . . . . . 30
>       15.6. Adding Additional Routing Information to a RteMsg  . . . . 30
>     16. Administratively Configured Parameters and Timer Values  . . . 32
>     17. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 34
>       17.1. AODVv2 Message Types Specification . . . . . . . . . . . . 35
>       17.2. Message and Address Block TLV Type Specification . . . . . 35
>       17.3. Address Block TLV Specification  . . . . . . . . . . . . . 36
>     18. Security Considerations  . . . . . . . . . . . . . . . . . . . 36
>     19. Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . 38
>     20. References . . . . . . . . . . . . . . . . . . . . . . . . . . 38
>       20.1. Normative References . . . . . . . . . . . . . . . . . . . 38
>       20.2. Informative References . . . . . . . . . . . . . . . . . . 39
>     Appendix A.  Changes since the Previous Version  . . . . . . . . . 40
>     Appendix B.  Shifting Network Prefix Advertisement Between
>                  AODVv2 Routers  . . . . . . . . . . . . . . . . . . . 41
>     Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . . . 41
>  }}}

============================================================================

On 11/6/2012 3:35 AM, Abdussalam Baryun wrote:
> Thanks, I agree with the proposal,
>
> AB

============================================================================

On 6/24/2013 5:14 PM, Charles E. Perkins wrote:

> This has been done, and has not caused any presentation difficulties
> or organizational inconvenience in recent versions of the specification.
> Therefore, unless there are any objections or suggestions for further
> improvement, I think we can safely close this issue.

===================== Next Issue from Issue Tracker ======================
[manet] #8: HopCount and alternate metrics in AODVv2
==========================================================================

On 11/7/2012 8:56 AM, manet issue tracker wrote:
> #8: HopCount and alternate metrics in AODVv2
>
>  Most of the language in the current specification for route metrics is
>  actually specific to !HopCount.  It is proposed to rename existing metric
>  fields to actually *be* !HopCount, to improve clarity.
>
>  Following common practice up until now, the default route metric for
>  AODVv2 is !HopCount.  Nevertheless, the document should allow for
>  alternate metrics to be used.  To be compatible with RFC 5444 and the
>  current reactive features, the following design guidelines are suggested.
>   * a new AddTLV of type "metric" should be supported.  The metric AddTLV
>     would supply metric values for each of the addresses in the !AddBlk
>   * a metric 'type' should be supplied in a msg-TLV
>
>  Whether or not the metric belongs in AODVv2 this year is a matter for
>  discussion.  The design can be quite straightforward, requiring only an
>  IANA registry for "metric type".  Given the flexibiity of RFC 5444 msg-
>  header format, very general metrics could be supported.  Metric type '0'
>  would be reserved for HopCount.
>

============================================================================

On 11/7/2012 1:29 PM, JP Vasseur (jvasseur) wrote:
> Hi Charlie,
>
> On Nov 7, 2012, at 11:56 AM, manet issue tracker wrote:
>
>> #8: HopCount and alternate metrics in AODVv2
>>
>> Most of the language in the current specification for route metrics is
>> actually specific to !HopCount.  It is proposed to rename existing metric
>> fields to actually *be* !HopCount, to improve clarity.
>>
>> Following common practice up until now, the default route metric for
>> AODVv2 is !HopCount.  Nevertheless, the document should allow for
>> alternate metrics to be used.  To be compatible with RFC 5444 and the
>> current reactive features, the following design guidelines are suggested.
>>  * a new AddTLV of type "metric" should be supported.  The metric AddTLV
>>    would supply metric values for each of the addresses in the !AddBlk
>>  * a metric 'type' should be supplied in a msg-TLV
>>
>> Whether or not the metric belongs in AODVv2 this year is a matter for
>> discussion.  The design can be quite straightforward, requiring only an
>> IANA registry for "metric type".  Given the flexibiity of RFC 5444 msg-
>> header format, very general metrics could be supported.  Metric type '0'
>> would be reserved for HopCount.
>
> Completely agreeing. Although I love simplicity with only hop counts, it
> turns out not to always be the most relevant metric in MANET. It is not so
> rare to see shorter delays on longer paths in terms of hop counts. Same
> comment for Packet Delivery Ratio (some link may have really high ETX!).
> Not suggesting to adopt a similar model as in RFC6551, but adding a bit
> of flexibility will help in the future, even if we start with something
> very simple.

============================================================================

On 11/7/2012 1:39 PM, Henning Rogge wrote:
> On Wed, Nov 7, 2012 at 10:29 PM, JP Vasseur (jvasseur)
> <jvasseur@cisco.com> wrote:
>> Hi Charlie,
>>
>> On Nov 7, 2012, at 11:56 AM, manet issue tracker wrote:
>>
>>> #8: HopCount and alternate metrics in AODVv2
>>>
>>> Most of the language in the current specification for route metrics is
>>> actually specific to !HopCount.  It is proposed to rename existing metric
>>> fields to actually *be* !HopCount, to improve clarity.
>>>
>>> Following common practice up until now, the default route metric for
>>> AODVv2 is !HopCount.  Nevertheless, the document should allow for
>>> alternate metrics to be used.  To be compatible with RFC 5444 and the
>>> current reactive features, the following design guidelines are suggested.
>>>  * a new AddTLV of type "metric" should be supported.  The metric AddTLV
>>>    would supply metric values for each of the addresses in the !AddBlk
>>>  * a metric 'type' should be supplied in a msg-TLV
>>>
>>> Whether or not the metric belongs in AODVv2 this year is a matter for
>>> discussion.  The design can be quite straightforward, requiring only an
>>> IANA registry for "metric type".  Given the flexibiity of RFC 5444 msg-
>>> header format, very general metrics could be supported.  Metric type '0'
>>> would be reserved for HopCount.
>>
>> Completely agreeing. Although I love simplicity with only hop counts, it
>> turns out not to always be the most relevant metric in MANET.
>
> In my experience Hopcount metrics don't work well in wireless networks
> unless you have very specific links. Using hopcount as a metric means
> you optimize for LONG links, which are often the ones that do not work
> reasonable well. Without a well thought hysteresis your network might
> just dissolve into a huge mess, especially for multirate networks like
> IEEE802.11.
>
> Saying "hopcount is the most relevant metric in MANET" is at best
> shady... and at worst just wrong.
>
>> It is not so rare to see shorter delays
>> on longer paths in terms of hop counts. Same comment for Packet Delivery
>> Ratio (some link may have really high ETX!).
>> Not suggesting to adopt a similar model as in RFC6551, but adding a bit
>> of flexibility will help in the future, even if we start with something
>> very simple.
>
> I agree that not specifying the metric is a good idea (similar to the
> way it has been done in OLSRv2), but hopcount only is a poor choice
> for a metric.

============================================================================

On 11/8/2012 9:31 AM, JP Vasseur (jvasseur) wrote:
> On Nov 7, 2012, at 10:39 PM, Henning Rogge wrote:
.....
>> In my experience Hopcount metrics don't work well in wireless networks
>> unless you have very specific links. Using hopcount as a metric means
>> you optimize for LONG links, which are often the ones that do not work
>> reasonable well. Without a well thought hysteresis your network might
>> just dissolve into a huge mess, especially for multirate networks like
>> IEEE802.11.
>>
>> Saying "hopcount is the most relevant metric in MANET" is at best
>> shady... and at worst just wrong.
> we agree this is what I wrote ;-) … "Although I love simplicity with
> only hop counts, it turns out not to always be the most relevant metric
> in MANET

>>> It is not so rare to see shorter delays on longer paths in terms of
>>> hop counts. Same comment for Packet Delivery Ratio (some link may have
>>> really high ETX!).  Not suggesting to adopt a similar model as in
>>> RFC6551, but adding a bit of flexibility will help in the future, even
>>> if we start with something very simple. 

>> I agree that not specifying the metric is a good idea (similar to the
>> way it has been done in OLSRv2), but hopcount only is a poor choice
>> for a metric.

> indeed, this is why I was referring to the RFC6551 (being the editor of
> the document) although we may not need all of these metrics.

============================================================================

Subject: [manet] Enabling alternate metrics

On 11/30/2012 11:58 AM, Charles E. Perkins wrote:
> As mentioned in previous email, enabling alternate metrics has been
> a topic often discussed in the MANET working group.  There seems to
> be wide recognition of the insufficiency of using HopCount.  However,
> the selection of "best" route can be tricky, because that depends
> on the application.  Also, some considerations from
> "draft-ietf-manet-olsrv2-metrics-rationale-01.txt" apply.
>
> If it is agreed that AODVv2 needs to enable specification for the
> use of alternate routing metrics, there is a relatively straightforward
> way to do it, as long as the purpose of doing so is also agreed as
> above.
> In the AODVv2 document, the main changes required are:
> - include the following new section
> - change discussion about HopCount to instead refer to "Cost()"
> - refer to a table of Metric Types (e.g., as in RFC 6551)
> - use abstract functions "Cost()" and "LoopFree()"
> - allow for storage of multiple routes to the same destination
>   but which allow the metric type to identify different next hops. 


============================================================================

Subject: Re: [manet] Enabling alternate metrics

On 11/30/2012 6:21 PM, Abdussalam Baryun wrote:

> Regarding the suggested main changes required, as one was for possible
> of having multi-next-hop per dest, I am thinking to add another
> requirement;
>
> - All intermediate routers in the path to destination should have same
> metric type while forwarding packets to their nexthop, otherwise an
> error reported.

===================== Next Issue from Issue Tracker ======================
[manet] #9: Reserved value for AODVv2 SeqNum -- is it necessary
==========================================================================

On 1/9/2013 12:25 PM, manet issue tracker wrote:
> #9: Reserved value for AODVv2 SeqNum -- is it necessary
>
>  From Henning Rogge on October 22:
>
>  >> The value zero (0) is reserved to indicate that the !SeqNum
>  >> for a destination address is unknown.
>
>  > I think its a REALLY bad habit to define some crazy rules for sequence
>  > numbers. All generated DYMO message will have sequence numbers, so if
>  > a node remembers another node and its addresses, it also remembers the
>  > sequence number.
>
>   Whether or not to specify a reserved !SeqNum is not a trivial issue.
>   With recent revisions, it is now feasible to conduct a Route Discovery
>   cycle (RREQ / RREP) without need for indicating that a !SeqNum is
>   invalid, and there do not seem to be any other instances in the current
>   specification where a !SeqNum has to be reported as invalid.
>
>   If there is to be a reserved value for !SeqNum, it seems that 0 (zero)
>   is a good choice, so that rollover skips from 65535 to 1 bypassing the
>   reserved value of zero.


============================================================================

On 1/19/2013 1:27 PM, manet issue tracker wrote:
> #9: Reserved value for AODVv2 SeqNum -- is it necessary
>
>
> Comment (by abdussalambaryun@gmail.com):
>
>  Replying to [ticket:9 charliep@…]:
>  >
>  >
>  >  Whether or not to specify a reserved !SeqNum is not a trivial issue.
>  >  With recent revisions, it is now feasible to conduct a Route Discovery
>  >  cycle (RREQ / RREP) without need for indicating that a !SeqNum is
>  >  invalid, and there do not seem to be any other instances in the current
>  >  specification where a !SeqNum has to be reported as invalid.
>
>  It will be not necessary but may be used by router's processing checks,
>  >
>  >  If there is to be a reserved value for !SeqNum, it seems that 0 (zero)
>  >  is a good choice, so that rollover skips from 65535 to 1 bypassing the
>  >  reserved value of zero.
>  >
>
>  I agree

============================================================================

On 6/24/2013 6:47 PM, Charles E. Perkins wrote:

> This issue is trickier than most.  It turns out that specifying the operation
> of intermediate RREP is easier if there is a reserved value for the AODVv2
> Sequence Number field.  Other than making the code shorter by maybe
> a dozen lines, and the inherent preferability of reducing the number of
> special cases, I didn't see a strong push for deleting the specification for
> the reserved value.
>
> There are some other peripherally related discussion points on the
> mailing list, but which were not keyed directly to issue #9.  I will
> try to find them and post any new insights to the issue tracker. If there
> aren't any objections, I think it would be expedient and appropriate to
> keep the existing specification of the reserved SeqNum value (0).
>
> If I understand the point below:
>> It will be not necessary but may be used by router's processing checks, 
>
> I think it does not materially affect the outcome of the issue
> resolution, but a more complete explanation would be interesting. 

===================== Next Issue from Issue Tracker ======================
[manet] #10: Reporting multiple broken routes whose metric types are different
==========================================================================

On 1/9/2013 12:54 PM, manet issue tracker wrote:
> #10: Reporting multiple broken routes whose metric types are different
>
>  Currently, RERR messages carry a single !AddrBlk.  The Metric Type of the
>  addresses in the !AddrBlk is specified in the !MetricType Message TLV, so
>  all addresses in the RERR !AddrBlk have the same address type.
>
>  If the route table has routes from the same network interface with
>  unequal Metric Types, then a broken link from that interface could well
>  require reporting broken routes with unequal Metric Types.  There are
>  at least two solutions to this problem.
>
>  i) Multiple RERR messages.  This is the more expensive solution if
>  measured
>  by cost of using the network media.
>
>  ii) New Metric Type AddrTLV, and allow multiple !AddrBlks in the RERR.
>
>  Since a goal of reactive protocols is to minimize network congestion, and
>  solution (ii) seems quite straightforward, it is proposed to be included
>  as an enhancement of RERR functionality.

===================== Next Issue from Issue Tracker ======================
[manet] #11: Error: failure of delivery to single host can invalidate route
        to an entire network
==========================================================================

On 1/9/2013 1:39 PM, manet issue tracker wrote:
> #11: Error: failure of delivery to single host can invalidate route to an
>      entire network
>
>  In section 8.4, an !UnreachableNode.Address for a single host could match
>  a subnet route in the intermediate node's route table, and current
>  specification leads to invalidating the entire subnet route.  This is an
>  error.  The intermediate router should keep the route to the subnet, but
>  create a host route to the specific host, and flag that specific route
>  as Broken.
>
>  A similar error can occur when an !UnreachableNode.Address is reported
>  with a !PrefixLength indicating unreachability for a subnet.  If the
>  intermediate route table has a route entry with a shorter !PrefixLength
>  than reported in the RERR, then the intermediate router should not
>  invalidate the larger subnet.  Instead, it should only invalidate the
>  part of the larger subnet which is indicated by the !PrefixLength
>  given in the RERR !AddrBlk.
>
>  In this way, future packets destined to nodes unaffected by the
>  broken route (but on the same larger subnet) can be delivered without
>  requiring additional Route Discovery flooding.

============================================================================

On 1/10/2013 12:54 AM, Abdussalam Baryun wrote:
> I solved that in an implemented AODV another way; the intermediate
> node (i) should be noticed that a next hop router is lost by receiving
> RERR, the RERR mentions what is lost. So if the host destination is
> lost only the source or last (i) in the route should be interested not
> any (i), others should ignore.

============================================================================

On 7/1/2013 12:15 PM, manet issue tracker wrote:
> #11: Error: failure of delivery to single host can invalidate route to an entire
> network
>
>
> Comment (by charliep@computer.org):
>
>  I have devised a relatively straightforward proposal to
>  repair this error.
>
>
>  In section 8.4, top of page 35, replace:
>     If the route satisfies all of the above conditions, !HandlingRtr sets
>     the Route.Broken flag for that route.
>
>  By:
>     If the Route satisfies all of the above conditions, !HandlingRtr
>     checks whether Route.!PrefixLength is the same as the prefix length
>     for !UnreachableNode.Address.  If so, !HandlingRtr simply sets
>     the Route.Broken flag for that Route.  Otherwise, !HandlingRtr
>     creates a new route (call it !BrokenRoute) with the same !PrefixLength
>     as the prefix length for !UnreachableNode.Address, and sets the
>     !BrokenRoute.Broken flag for that new route.  If the prefix length
>     for !BrokenRoute is shorter than Route.!PrefixLength, then Route MUST
>     be expunged from the routing table (since it is a subroute of
>     the larger route which is reported to be broken).

===================== Next Issue from Issue Tracker ======================
[manet] #12: INVALID_PREFIX_LENGTH -- is it useful?
==========================================================================

On 1/9/2013 1:56 PM, manet issue tracker wrote:
> #12: INVALID_PREFIX_LENGTH -- is it useful?
>
>  In AODVv2, all routes have known prefix lengths, which
>  can be the same as the length of the IP address family of the route's
>  destination (in which case, they are known as "host routes").  Only
>  when there is no route, is it possible for a destination to have an
>  unknown prefix length.  In that case, the RERR message has only a
>  single destination address in its !AddrBlk, and since the !PrefixLength
>  is unknown, it is simply not included.
>
>  Since there are not any cases where INVALID_PREFIX_LENGTH has to
>  be assigned, it should be deleted from the specification.  For all
>  destinations that do not have explicitly known subnet prefixes, the
>  !PrefixLength must be reported to be the length of IP addresses for
>  the relevant address family (i.e., 4 for IPv4 or 16 for IPv6).

============================================================================

On 6/24/2013 8:05 PM, Charles E. Perkins wrote:

> INVALID_PREFIX_LENGTH has been written out of the specification
> without any inconvenient side effects.  Unless there is any objection,
> I think this issue can safely be closed. 

===================== Next Issue from Issue Tracker ======================
[manet] #13: Supporting monotonically nondecreasing but non-additive metrics
==========================================================================

On 1/9/2013 2:26 PM, manet issue tracker wrote:
> #13: Supporting monotonically nondecreasing but non-additive metrics
>
>  There are some useful metrics that are nondecreasing but not "naturally"
>  additive.  That is, making an additive definition for them requires
>  unnatural mental gymnastics.
>
>  A good example is "1 / bandwidth".  This metric is not affected by
>  higher-bandwidth links, but only by the link that has the least bandwidth
>  from among all the path components of the route.  Strangely, this
>  quantity does not seem to have a commonly accepted name that I can find.
>  The best I can do so far is to call it the "Slowness" metric.  One
>  could use the Slowness metric as a nondecreasing metric which still
>  finds the fastest route.
>
>  Supporting such metrics in AODVv2 can be done by simply
>  replacing "!RteMsg.Metric + Cost(L)" by another function that
>  could be called "!TotalCost (!RteMsg.Metric, Cost(L))".  The impact
>  on the specification is minor (only a few lines), and the possible
>  future benefit could be substantial.  For !HopCount,
>  !TotalCost(!RteMsg.Metric,Cost(L)) is defined to be (!RteMsg.Metric + 1).

============================================================================

.... emails skipped because summary posted on June 24, 2013 as follows .....

============================================================================

On 6/24/2013 8:56 PM, manet issue tracker wrote:
> #13: Supporting monotonically nondecreasing but non-additive metrics
>
>
> Comment (by charliep@computer.org):
>
>  On 1/10/2013 1:09 AM, Abdussalam Baryun wrote:
>
>  I agree, that is important advantage of using metric and cost for AODVv2.
>
>  -------------------------------------------------------------------------
>
>  On 1/10/2013 1:50 AM, Dearlove, Christopher (UK) wrote:
>
>  Such a metric can, in general, lead to looping. Consider A, B, C, D, E in
>  a ring with metric 2 on links A - B, B - C and C - D, and metric 1 on
>  links D - E and E - A. Consider a packet from B routed to E. At B it is
>  indifferent whether to go via A or C, so may pick C. At C it is
>  indifferent whether to go via B or D, so may pick B.
>
>  Of course in that case one can add the additional rule to not send back on
>  link just arrived. But a more complicated case can send it in a longer
>  loop. You could tie-break by number of hops, but that's actually a more
>  complicated metric. However something like that is essential - consider a
>  network all of whose links have metric 1. Whether that tie-breaker is, in
>  general, sufficient is something not immediately obvious to me.
>
>  And of course that's in general. A specific routing protocol may ensure
>  that this doesn't happen. But that would also need work to prove.
>
>  (The essential problem is that non-decreasing is not as good as
>  increasing.)
>
>  -------------------------------------------------------------------------
>
>  On 1/10/2013 2:30 AM, Abdussalam Baryun wrote:
>
>  I don't think there is a route until they recieve RREP, the RREP is
>  sent through one route. That packet you mentioned will go through the
>  path of RREP. I don't think in AODVv2 the metric type and function
>  allow loops.  comment in line;
>
>  > Such a metric can, in general, lead to looping. Consider A, B, C, D, E
>  in a
>  > ring with metric 2 on links A - B, B - C and C - D, and metric 1 on
>  links D
>  > - E and E - A. Consider a packet from B routed to E. At B it is
>  indifferent
>  > whether to go via A or C, so may pick C. At C it is indifferent whether
>  to
>  > go via B or D, so may pick B.
>  >
>
>  At B the data packet will go through only one route which should be
>  the one received RREP from. It will never receive a RREP from both
>  neighbors A and C. At C it will never receive RREP from both nieghbors
>  B and D.
>
>  > Of course in that case one can add the additional rule to not send back
>  on
>  > link just arrived.
>
>  AODV does not care about *links*, it care about *vectors*, I think
>  they are different routings even if they may look into the same
>  metric-type but different point of views.
>
>  > (The essential problem is that non-decreasing is not as good as
>  > increasing.)
>
>  Is there a prove of that? I am not sure we can fix that, because it
>  will always depend on why the engineer/applicant used that metric in
>  the first place, if that engineer feels that point is true he/she
>  should not use non-decreasing, but for some cases an engineer may like
>  to use such metric so he/she can use it for a reason.
>
>  -------------------------------------------------------------------------
>
>  On 1/10/2013 5:44 AM, Philippe Jacquet wrote:
>
>  I agree with Chris, this may lead to loops if done careless.
>
>  This metric is the min metric: you replace the + by the min operator, the
>  cost of a route is the min bandwidth of the links on the route. The aim is
>  to find the route with the max bandwidth, done via an adapted Dijkstra
>  (also usable with OLSRv2).
>
>  The problem with this metric is that it does not give an upperbound on the
>  number of hops (indeed optimal routes may have unlimited hop count via
>  loops), and in general it is better to use it with a lexicographical
>  metric (bandwidth,hop-count) so that the optimal route will be the route
>  with the min hop count among the routes with the largest bandwidth.
>
>  Everything is computable via Dijkstra since (shortest path on links above
>  bandwidth threshold).

============================================================================

On 6/24/2013 9:03 PM, Charles E. Perkins wrote:

> In the absence of a convincing use case for enabling nondecreasing metrics,
> and in view of the problems to insure loop freedom, I think it is safe to
> close this issue without enabling the feature.

===================== Next Issue from Issue Tracker ======================
[manet] #15: Reactive Design Approach
==========================================================================

On 1/19/2013 4:11 PM, manet issue tracker wrote:
> #15: Reactive Design Approach
>
>  There is a problem that reactive work better in some application
>  scenarios and proactive work better in other application scenarios,
>  but both are important for MANETs in general. However, there are some
>  application scenarios where the hybrid routing is the best choice for
>  the MANET. Another problem is that generated routing information are
>  different in reactive and proactive, so it will be reasonable that
>  there may be different best formatting, which needs an answer/discuss.
>
>   The design approach to start with the messaging format before the
>  completion of designing both proactive and reactive separate standards
>  can't be the right approach for designing general purpose protocols. That
>  may be a good approach for manet hybrid routing that includes both
>  reactive and proactive routing functions. However, there is no prove that
>  similar message formatting will give better performance for two separate
>  protocols for different scenarios.
>
>   I suggest the WG reactive protocol modified without thinking of a hybrid
>  or proactive routing, but just the reactive. Also I suggest we don't think
>  about gateway issues as leave it in separate draft.

============================================================================

On 2/20/2013 9:45 AM, Charles E. Perkins wrote:
>
> Hello Abussalam,
>
> I also agree that the hybrid approach may offer many benefits. When we're
> done with the reactive approach, I hope we can get into developing a hybrid
> solution.  As I understand it, this was among the initial motivations for
> RFC 5444 -- enabling a common message "platform" for ad hoc network
> nodes to interpret both reactive and proactive signaling.
>
> It seems to me that you are not specifically requesting any changes to
> the AODVv2 document for this purpose.  If you do have changes in mind,
> please let me know which sections and if possible some suggested text
> for the changes.

============================================================================

On 2/20/2013 10:46 AM, Abdussalam Baryun wrote:
>> It seems to me that you are not specifically requesting any changes to
>> the AODVv2 document for this purpose.  If you do have changes in mind,
>> please let me know which sections and if possible some suggested text
>> for the changes.
>
> I have no change request as long as I already agreed with last DYMO. I
> think the track was about the WG approach to the new WG reactive
> document not about last dymo-draft content, as the approach of
> transfering DYMO contents/ideas to the new protocol. So we can say
> this design approach helps us know how to start make AODVv2-00. Please
> note that the new reactive protocol is not yet published, and some
> think that we may take similar as proactive approach or compatible
> with another reactive protocol

============================================================================

On 6/24/2013 9:09 PM, manet issue tracker wrote:
> #15: Reactive Design Approach
>
>
> Comment (by charliep@computer.org):
>
>  I agree to leave gateway issues for a separate draft, and to concentrate
>  on completing the reactive protocol without attempting any complete
>  solution for the hybrid case.  A lot of thought has already gone into this
>  matter.  I believe that a hybrid protocol is within reach, but that the
>  necessary control signaling and parameter values are still a mysterious
>  matter.

===================== Next Issue from Issue Tracker ======================
[manet] #16: The Reactive Protocol Duplicate Suppression Table
==========================================================================

On 1/19/2013 5:13 PM, manet issue tracker wrote:
> #16: The Reactive Protocol Duplicate Suppression Table
>
>  I agree with the proposed to add RREPs in table as RREQ for suppression as
>  below message, however, will need to discuss if there are side affects
>
>  http://www.ietf.org/mail-archive/web/manet/current/msg14472.html

Subject: [manet] Duplicate suppression for RREQ and RREP -- Problem and Proposed Solutions
From: "Charles E. Perkins" <charliep at computer.org>
Date: Sun, 30 Dec 2012 14:40:21 -0800

Hello folks,

As noted by Marius Portmann et al., there are some subtleties about
using sequence numbers to inhibit dissemination of possibly
outdated RREQ and RREP messages.  After reconsidering this
matter for the last couple of weeks, I realized that the existing
specification does not properly handle suppression of duplicate
multicast messages.  In order to accomplish that, while still
not suppressing earlier multicast messages that do need to be
transmitted, a list of previously retransmitted multicast AODVv2
routing messages needs to be maintained, as suggested by Marius.

Here is some proposed text for that purpose:

Two incoming RREQ messages should be considered the "same" if
they have the same Sequence Number and were generated by the same
AODVv2 router.  Using that notion of equivalence, when RREQ messages
are multicast in a MANET, a node may well receive the same RREQ from
more than one of its neighbors.  Such duplicated RREQs SHOULD NOT
be retransmitted; otherwise, a great deal of unnecessary signaling
traffic is likely to be generated in the network as multicast RREQs
are retransmitted over and over again with practically no additional
benefit.

To avoid unnecessary retransmission of duplicate RREQ messages,
while still enabling the proper handling of earlier RREQ messages
that may have somehow been delayed in the network, it is needed
for each AODVv2 router to keep a list of the RREQ messages which
it has recently retransmitted.

The same duplicate suppression is needed for other AODVv2 messages.
For instance, when optional multicast RREP is used to enable selection
from among multiple possible return routes, similar measures need to
be taken.

For this reason, the table is more generally called the AODVv2
Duplicate Suppression Table; it is simply a list of the AODVv2 RREQ
and RREP messages which have been recently multicast, using
the above notion of message equivalence.  More formally, two
AODVv2 RREQ messages are equivalent if:
- they were generated by the same AODVv2 router (RREQ_gen)
- RREQ_Gen assigned the same Sequence Number to its
  routing information in the RREQs
- the RREQs are for the same desired destination address
An analogous definition applies for a RREP message, in case that
the RREP message would be multicast.

Protocol handling of RERR messages eliminates the need for
tracking RERR messages, since the rules for retransmitting RERR
multicast messages prevent the phenomenon of message duplication
(that can affect RREQ and RREP retransmission).

As a historical note, AODV and early versions of DYMO contained
a similar broadcast suppression mechanism.  Prior to initiating the
conversion to RFC 5444 compliance, Ian and I had thought that the
underlying multicast optimization <via SMF> would do a better
job of duplicate suppression, and in a manner already integrated
with the underlying forwarding mechanisms.  Thanks, Marius et al.
for triggering a re-examination of this issue which has needed
attention since the RFC 5444 compliance changes.

============================================================================

On 2/20/2013 10:59 AM, Charles E. Perkins wrote:
>
> Hello Abdussalam,
>
> There was a revision of AODVv2 that included RREPs in the duplicate
> suppression table.  It did have the effect of making the description more
> difficult to understand without additional benefit in the typical case
> where RREPs are unicast.  For multicast RREP, there would be quite a
> bit more benefit, but the use case for multicast RREP involves networks
> with unidirectional links, which have not seen much attention lately in
> the working group.  Moreover, the duplicate suppression table itself
> would need to distinguish between RREQ and RREP messages if they
> were combined in the same table, so logically speaking the table could
> still be viewed as two separate tables.
>
> If there is interest, handling multicast RREPs in a similar table could
> be more explicitly specified in the document.

============================================================================

On 2/20/2013 4:10 PM, Abdussalam Baryun wrote:
> Hello Charlie,
>
> I agree, but why there is not much attention in the WG for unidirectional
> links? Regarding RREP it can be optional, but I prefer one table for
> duplicate RteMsg

============================================================================

On 6/24/2013 9:11 PM, manet issue tracker wrote:
> #16: The Reactive Protocol Duplicate Suppression Table
>
>
> Comment (by charliep@computer.org):
>
>  The changes for proper handling of Duplicate Suppression have been made.
>  Insofar as the base protocol specifies unicast RREP, the need for
>  suppressing duplicate RREPs has been moved into the specification for that
>  optional behavior.

===================== Next Issue from Issue Tracker ======================
[manet] #17: Proposed Reactive Protocols' Alternative Message Formats
==========================================================================

On 1/23/2013 3:33 AM, manet issue tracker wrote:
> #17: Proposed Reactive Protocols' Alternative Message Formats
>
>  A proposal approach; a)to leave the same address array format as it is in
>  draft-25 but to let all TLVs position independent, b) do as in [1] to
>  maintain the advantage of [2], it may satisfy all opinions, or c) we may
>  use the messages format of draft [3] and make modification if necessary
>  for the AODVv2 function. (I omitted the fourth alternative d) which
>  proposes to not use RFC5444, because we follow the decision made before
>  that this first standard MUST use RFC5444 and RFC5498)
>
>  In [1] you leave the addressing independent in 5444 messages as done in
>  proactive protocol but with associate TLVs (which explain order) for each
>  address or address type of its info of order-num and/or time added by the
>  router, and/or hop-count-of-message. In this way any router will know
>  where/when that address was located and it relations with others. So
>  addresses and their TLV in the messages are independent, but position info
>  of addresses can be understood router.
>
>  Please advise your opinion,
>
>  [1] http://www.ietf.org/mail-archive/web/manet/current/msg14795.html
>
>  [2] http://www.ietf.org/mail-archive/web/manet/current/msg14803.html
>
>  [3] http://www.ietf.org/id/draft-clausen-lln-loadng-08.txt
>
>  Best Regards
>
>  Abdussalam Baryun,
>  University of Glamorgan, UK

============================================================================

On 1/23/2013 4:47 PM, manet issue tracker wrote:
> #17: Proposed Reactive Protocols' Alternative Message Formats
>
>
> Comment (by abdussalambaryun@gmail.com):
>
>  Maybe another alternative way; (d) is to use RFC5444 in the non-positional
>  format method, and to use a Schema-base Compression/decompression either
>  for the Reactive Protocol's messages, or for general messages, see below
>  link
>
>  http://www.ietf.org/mail-archive/web/manet/current/msg14827.html


============================================================================

On 2/20/2013 11:11 AM, manet issue tracker wrote:
> #17: Proposed Reactive Protocols' Alternative Message Formats
>
> Changes (by charliep@computer.org):
>
>  * owner:  Abdussalam Baryun => charliep@computer.org
>  * status:  new => assigned
>
>
> Comment:
>
>  The new TLVs suggested by Henning Rogge have been incorporated into the
>  upcoming new revision for the AODVv2 specification.  I think it will
>  resolve this issue.  The Address TLVs have the effect of disambiguating
>  the roles of the addresses in the !AddrBlk; consequently the roles of the
>  addresses do not require positional significance otherwise.  After the
>  publication of the new revision, it should be determined whether this
>  issue can be closed.

============================================================================

On 5/10/2013 4:19 PM, manet issue tracker wrote:
> #17: Proposed Reactive Protocols' Alternative Message Formats
>
>
> Comment (by charliep@computer.org):
>
>  After reviewing this issue and subsequent comments, I suggest that we
>  close this issue.  I agree that incorporating Henning's proposed revision
>  should have the effect of relieving concerns about positional independence
>  for the base spec, and the debate about whether positional dependence is
>  bad or good can go on as a separate matter if there is still interest.

===================== Next Issue from Issue Tracker ======================
[manet] #19: Use of square brackets
==========================================================================

On 3/28/2014 5:48 PM, manet issue tracker wrote:
> #19: Use of square brackets
>
>  I am confused by the use of square brackets around stuff: usually, [FOO]
>  refers to a reference in the References section, but this is not
>  systematically the case in this document (both in the prose and in the
>  notation (cf. Table 1).

============================================================================

On 4/11/2014 6:11 PM, Charles E. Perkins wrote:
> Hello folks,
>
> Looking through other RFCs, I find three typical uses for square
> brackets (among others):
>
> - Bibliographic citations   (e.g, [RFC791])
> - Array indices  (e.g, rfcs[790])
> - Ranges            (e.g, [1..791])
>
> I will make sure that the uses in the AODVv2 specification conform to the
> above guidelines.  Please let me know if there are places where it is not
> clear whether or not square brackets enclose a citation cross-reference.
> The range notation does not appear in the current document.

===================== Next Issue from Issue Tracker ======================
[manet] #20: Idle routes must be marked as active after re-use
==========================================================================

On 3/28/2014 5:50 PM, manet issue tracker wrote:
> #20: Idle routes must be marked as active after re-use
>
>  The draft states how Idle routes should be treated and how a route becomes
>  Idle and when an Idle route expires. What's confusing to me is that it
>  states that an Idle route may still be used for packet forwarding, but it
>  doesn't say that a route becomes un-Idle (i.e. Active) when it is used
>  (for forwarding)– which would make sense to me.
>

============================================================================

On 4/11/2014 6:21 PM, Charles E. Perkins wrote:

> Here is some proposed text to resolve this issue:
 ...
> Proposal: after the text:
>> When a route is no longer Active, it
>>         becomes an Idle route. 
>
> The proposed text:
>>         If an Idle route is used to forward a packet, it becomes
>>         an Active route once again. 
>
>
> However, there may be a better solution which requires more extensive changes.
> While the distinction between an active route and an idle route is interesting
> to consider, the main difference between them is that an idle route is
> preferred for deletion whenever space needs to be reclaimed.  The same effect
> can be had by specifying that route table memory space be reclaimed by
> deleting the oldest routes first.  I think this will produce some
> simplification to the text without any real loss of clarity.

============================================================================

On 4/30/2014 2:44 AM, Martin Heusse wrote:
>
> Does this really belong to the protocol specification? To me, if a node runs
> out of memory space, it's a local decision to remove a route or the other.
> The protocol will still operate properly. Granted, it's more efficient if
> everyone follows pretty much the same policy :-)
>
> Now, removing the oldest route may not be the best idea: it's not unlikely
> that the first route a "node" creates is the most important! 
>
> Maybe a statement like: "routers should discard routes in order of least
> recent usage" could be enough? 
> (And then, you don't have to care about idle/inactive/active route status.
> This information is not exchanged between nodes, anyway.)

============================================================================

On 5/28/2014 10:29 AM, Charles E. Perkins wrote:
>
> Hello Martin,
>
> Your points are well taken.  However, the "active status" of a route
> is important when determining whether or not to report it as
> broken.  Routes that are inactive don't need to be included in an
> RERR message even if the next hop link is broken.  The way that
> AODVv2 determines whether a route is active or not, is by
> keeping track of how recently it has been used.
>
> Less important, but still with some value, is the distinction
> between idle routes and expired routes.  An idle route can be
> used to forward packets, and an expired route cannot.  However,
> even an expired route contains one valuable field, namely the
> latest known sequence number.  If there is no penalty, it can
> be useful to keep that information in case there are some old
> RREQ packets still being retransmitted (say, because of really
> full queues at some nodes in the network).  This situation is
> rare, but Murphy's law demands that it happen sometimes.
> I don't believe there is any significant penalty for trying to
> prevent it.
>
> Finally, there comes a time when even the sequence number
> is potentially harmful.  This happens when it is so old that it
> might have been duplicated by the node after rebooting.
> It was shown some years ago that sequence numbers have to
> be expunged after a time equal to the hold-down time for nodes
> after reboot (MAX_SEQNUM_LIFETIME).

===================== Next Issue from Issue Tracker ======================
[manet] #21: Document hard to read
==========================================================================

On 4/3/2014 1:59 PM, manet issue tracker wrote:
> #21: Document hard to read
>
>  (Thomas Clausen) I found the document rather hard to read, in part due to
>  the terminology used.  The Terminology section states that it uses "some
>  terminology from [RFC5444]", but is not explicit as to what.  RFC5444
>  defines terms such as packet/message, both of which are used in this
>  document in (I think) manners inconsistent with their definitions in
>  RFC5444. I'll point out a couple of examples of this in the below, but the
>  terminology use should be cleaned up through the document to be consistent
>  with RFC5444. I think that as RFC5444 and this document are both products
>  of the MANET wg, and that this document uses RFC5444, then the terminology
>  should be perfectly aligned with the terminology from RFC5444 (I have not
>  seen overruling reasons otherwise in the document).  While we are on the
>  terminology, "packet" appears to be used both to describe (i) a RFC5444
>  packet, (ii) a protocol data unit for this protocol, and (iii) an IP
>  datagram.

============================================================================

On 4/3/2014 4:46 PM, Abdussalam Baryun wrote:
> I agree that that terminology can add aodvv2 packet definition but not needed.
> The draft to use IP packet and aodvv2 packet if needed. My understanding is
> that all packets in the draft are RFC5444 packets or aodvv2 packets, and
> only if said IP packet. I think this was the method done in olsrv2 draft too. 

============================================================================

On 4/3/2014 10:57 PM, Henning Rogge wrote:
> On Fri, Apr 4, 2014 at 1:46 AM, Abdussalam Baryun
> <abdussalambaryun@gmail.com> wrote:
>> I agree that that terminology can add aodvv2 packet definition but not
>> needed.  The draft to use IP packet and aodvv2 packet if needed. My
>> understanding is that all packets in the draft are RFC5444 packets or aodvv2
>> packets, and only if said IP packet. I think this was the method done in
>> olsrv2 draft too.
>
> If you take the protocol multiplexing capabilities of RFC5444 serious
> there is no such thing as a "AODVv2 packet"... there are "AODVv2
> messages" and "RFC5444 packets", which may contain messages from
> multiple protocols (e.g. AODVv2 and NHDP messages in the same packet).

============================================================================

On 4/4/2014 12:10 AM, Abdussalam Baryun wrote:
>
>
> On Friday, April 4, 2014, Henning Rogge wrote:
>
      ....
>
>     If you take the protocol multiplexing capabilities of RFC5444 serious
>     there is no such thing as a "AODVv2 packet"...
>
> The RFC5444 as I understood when I read it before that it was not mentioning
> the way it was implemented or way of filling its formats. There was a
> discussion in one WG meeting  between Teco and Thomas before submitting
> packetbb draft, mentioning the missing issue, which the WG chair mentioned
> that some one should volunteer to do that work. So IMO there may be no
> thing agreed on in the WG about the general RFC5444 packet multiplexing. 
>
>      there are "AODVv2
>     messages" and "RFC5444 packets", which may contain messages from
>     multiple protocols (e.g. AODVv2 and NHDP messages in the same packet).
>
> So I understand you suggest only one packet for all protocols and not having
> AODVv2 packet. 


============================================================================

On 4/4/2014 12:53 AM, Ulrich Herberg wrote:
> I think that what Henning describes is fairly well understood in the WG.
> I have never heard anyone else having an issue with it. As Henning said
> correctly, there are no AODVv2 packets, only RFC5444 packets that may
> contain AODVv2 (and other) messages.

============================================================================

On 4/4/2014 1:07 AM, Henning Rogge wrote:
> There is also Appendix A of RFC5444 that explains the multiplexing part.

============================================================================

On 4/4/2014 1:46 AM, Dearlove, Christopher (UK) wrote:
> And RFC 5498 mandates its use on the manet port/protocol. So it is a
> must get right.

============================================================================

On 4/4/2014 1:10 PM, Abdussalam Baryun wrote:
> In RFC5444 it mentions that each protocol defines its format. The RFC5444
> is a general format for packets and messages. 

============================================================================

On 4/11/2014 4:40 PM, Charles E. Perkins wrote:

> I will adjust the text to use "AODVv2 message" instead of "AODVv2 packet"
> whenever feasible, or use some other wording if "message" does not fit.

===================== Next Issue from Issue Tracker ======================
[manet] #
==========================================================================

On 4/3/2014 2:00 PM, manet issue tracker wrote:
> #22: Multiple terms for same concept
>
>  (Thomas Clausen) While we are on that, I notice that "active source" is
>  used; I am not sure what that is vs a "source" and vs a !PktSource. A
>  source is someone who generates data traffic, I would suspect ... so an
>  active source is....what?  Or, is a source someone who can, but doesn't,
>  generate data traffic? - if so, what is the significance of that wrt.
>  routing protocol operation? And, wrt a /reactive/ routing protocol, which
>  I would assume constructs routes only for active source-destination pairs?

============================================================================

On 4/4/2014 1:32 PM, Abdussalam Baryun wrote:
> IMHO, MANET has more concepts depending on the network use and status. Therefore it is good that this work considers many use cases. 
>
> On Thursday, April 3, 2014, manet issue tracker wrote:
>
>     #22: Multiple terms for same concept
>
>      (Thomas Clausen) While we are on that, I notice that "active source" is
>      used; I am not sure what that is vs a "source" and vs a !PktSource. 
>
> It is clear in MANET that active node means there is sleep period within that node, so when the node is out of that period it is active. 
>
>     A
>      source is someone who generates data traffic, I would suspect ... so an
>      active source is....what?  Or, is a source someone who can, but doesn't,
>      generate data traffic? 
>
> The source is a node that generates data. The active node is a node that generates data for some determined period of times, and does not receive/generate within sleeping periods. 
>  
>
>      if so, what is the significance of that wrt.
>      routing protocol operation? And, wrt a /reactive/ routing protocol, which
>      I would assume constructs routes only for active source-destination pairs?
>
> I don't think that is correct. In MANET we say it MAY have LLN nodes so it is good AODVv2 considers LLNs scenarios. The ROLL WG have done a terminology RFC, I will try to continue the Manet terminology draft. The routing in LLNs and MANETs does construct routes not only for active source-destination pairs, but routes that have multihops with sleep periods as well. 

============================================================================

On 4/5/2014 5:46 AM, Thomas Clausen wrote:
> On 04 Apr 2014, at 22:32, Abdussalam Baryun <abdussalambaryun@gmail.com> wrote:
>> IMHO, MANET has more concepts depending on the network use and status. Therefore it is good that this work considers many use cases. 
>>
>> On Thursday, April 3, 2014, manet issue tracker wrote:
>>
>>     #22: Multiple terms for same concept
>>
>>      (Thomas Clausen) While we are on that, I notice that "active source" is
>>      used; I am not sure what that is vs a "source" and vs a !PktSource. 
>>
>> It is clear in MANET that active node means there is sleep period within that node, so when the node is out of that period it is active. 
> That is not clear to me. Where is that described in more details? How does it work in a reactive protocol, what if a router is "sleeping" when it receives a RREQ? Does it require global coordination of duty cycles in the network? If not, why not?
>>
>>     A
>>      source is someone who generates data traffic, I would suspect ... so an
>>      active source is....what?  Or, is a source someone who can, but doesn't,
>>      generate data traffic? 
>>
>> The source is a node that generates data. The active node is a node that generates data for some determined period of times, and does not receive/generate within sleeping periods. 
>>  
>>
>>      if so, what is the significance of that wrt.
>>      routing protocol operation? And, wrt a /reactive/ routing protocol, which
>>      I would assume constructs routes only for active source-destination pairs?
>>
>> I don't think that is correct.
> You do not think that it is correct, that a reactive protocol constructs routes only for active source-destination pairs?
>> In MANET we say it MAY have LLN nodes so it is good AODVv2 considers LLNs scenarios. The ROLL WG have done a terminology RFC, I will try to continue the Manet terminology draft. The routing in LLNs and MANETs does construct routes not only for active source-destination pairs, but routes that have multihops with sleep periods as well. 
> I am at a loss, what does that mean?

============================================================================

On 4/11/2014 4:34 PM, Charles E. Perkins wrote:

> PktSource means the source of the packet that triggered
> the RERR.  It could be renamed to be "RERR_Dest", since the
> RERR is being sent to the source of the packet that triggered
> the RERR.
>
> "active sources" are those actively sending data.  I will make
> a new definition for this.

============================================================================

On 5/28/2014 11:09 AM, Charlie Perkins wrote:

> It turns out to be quite straightforward to revise the text
> so that the term "active source" is not needed.  So, I don't
> need to make a definition for this term.

===================== Next Issue from Issue Tracker ======================
[manet] #23: Format of processing algorithms
==========================================================================

On 4/3/2014 2:05 PM, manet issue tracker wrote:
> #23: Format of processing algorithms
>
>  (Thomas Clausen) .... I like bullet-point-pseudocode over "textual
>  pseudocode". E.g something like this is more readable to me:
>
>   Upon receiving an RREQ, a router:
>   1.     Record X;
>   2.     Record Y;
>   3.     Test z then:
>     a.   If z Do FOO;
>     b.   otherwise: Do BAR;
>   4.     Retransmit the RREQ


============================================================================

On 4/3/2014 5:00 PM, Abdussalam Baryun wrote:
> That method of describing conditions are not similar way followed in RFC3561. The below uses more lines in the draft, but not sure what is problem with the current method used. 

============================================================================

On 4/3/2014 11:13 PM, Henning Rogge wrote:
> On 04/04/2014 02:00 AM, Abdussalam Baryun wrote:
>> That method of describing conditions are not similar way followed
>> in RFC3561. The below uses more lines in the draft, but not sure what is
>> problem with the current method used. 
>
> Algorithmic descriptions as large text blocks (instead of bullet lists
> with short statements) are more easy to interpret in different ways,
> which opens the door for incompatible implementations.

============================================================================

On 4/4/2014 4:39 PM, Abdussalam Baryun wrote:
> I went through this discussion before on the IETF list and the answer was no, it is more better to use a simple text, and not use simple bullet points.

============================================================================

On 4/7/2014 12:27 PM, Abdussalam Baryun wrote:
> http://www.ietf.org/mail-archive/web/ietf/current/msg76625.html
> That reference may not get the same understanding I got. But I understood from that thread discussion and others the reason why specification drafts go better for sentence text than go for sequence points. 

============================================================================

On 4/11/2014 4:23 PM, Charles E. Perkins wrote:

> The point of the specification is to enable interoperable implementations,.
> Some people prefer a short stepwise description of the algorithm, and some
> people prefer to read (unambiguous) text describing each step in more
> detail.  I don't see why the specification cannot satisfy both groups.
> I will develop the formulation with short statements as requested.

============================================================================

On 6/17/2014 5:51 AM, Lotte Steenbrink wrote:

> I am aware of that. My point is: while I appreciate your hard work to move
> the spec to another level, unfortunately I don't understand the purpose of
> your pseudocode efforts. The only explanation I was able to come up with
> was that the pseudocode was a reaction to the remark by Thomas Heide Clausen
> that you put into the issue tracker, in which case, I'd say I'd interpret
> it differently...

===================== Next Issue from Issue Tracker ======================
[manet] #24: Ordering of processing instructions
==========================================================================

On 4/3/2014 2:09 PM, manet issue tracker wrote:
> #24: Ordering of processing instructions
>
>  if I was to implement the processing of an incoming RREQ message, which
>  section should I implement? 7.5 would seem to be the place to start, and
>  it gives and ordered list of things to do. Except it says...
>
>
>  {{{
>                  In this section (unless qualified by additional
>  description
>          such as "upstream" or "neighboring") all occurrences of the term
>          "router" refer to the AODVv2 router handling the received !RteMsg.
>  }}}
>
>          ... what <do> "upstream" and "neighboring" mean. ...
>          "upstream" is not defined. One interpretation would be that it
>  would
>          be "the next hop towards a gateway to..." something. But to what?
>          Another interpretation would be "the next hop towards the source
>          of the !RteMsg", but as this is part of the route discovery
>  process,
>          I probably do not know what that would be. Or, is it "the best
>          next-hop towards the source of the !RteMsg that I know so far?" Or
>  ...
>
>
>  Section 5.2 says:
>
>  {{{
>          To avoid repeated failure of Route Discovery, an AODVv2 router
>          (!HandlingRtr) handling a RREP message SHOULD attempt to verify
>          connectivity to the next upstream router towards AODVv2 router
>          originating an RREQ message.
>  }}}
>
>          So for the case when an !RteMsg is an RREP, then I could make a
>          guess that "upstream" means "next hop towards the source of the
>          corresponding RREQ message". Except Section 7.5 probably also
>          applies to RREQs. So off chasing if there is a rule covering that,
>          also, and guessing what that rule might mean too.  I've only just
>          started to determine if I am to be processing a given !RteMsg, and
>  I am
>          already at a loss for how to proceed, and have had to guess
>  (hoping,
>          of course, to both guess RIGHT and guess as other implementers,
>  with
>          whom I would hope to be interoperable, would guess).

============================================================================

On 4/13/2014 11:43 AM, Abdussalam Baryun wrote:
>
>
> On Thursday, April 3, 2014, manet issue tracker wrote:
>
>     #24: Ordering of processing instructions
>
>      if I was to implement the processing of an incoming RREQ message, which
>      section should I implement? 
>
>  Usually the way I do it is to implement all sections that include the
>  handling of RREQ. 

===================== Next Issue from Issue Tracker ======================
[manet] #25: Meaning of "suppose"
==========================================================================

On 4/3/2014 2:11 PM, manet issue tracker wrote:
> #25: Meaning of "suppose"
>
>  (Thomas Clausen)
>
>  {{{
>                  Suppose Route[RteMsg.Address] uses the same metric type as
>                  the incoming routing information, and the route entry
>                  contains Route.SeqNum, Route.Metric, and Route.Broken.
>                  Suppose the incoming ...
>  }}}
>
>          This is a protocol specification, "supposing" is not supposed to
>          happen - unambiguous instructions that does not require the
>          implementer to undertake guesswork is required.

============================================================================

On 4/3/2014 5:07 PM, Abdussalam Baryun wrote:
> My understanding is that suppose means *IF*. So may be we suggest to
> replace suppose to if. 

============================================================================

On 4/11/2014 4:21 PM, Charles E. Perkins wrote:

> The word only appears twice in the specification.  It won't be hard to replace
> with an equivalent meaning.

============================================================================

On 4/13/2014 4:29 AM, John Dowdell wrote:
> Looking at the text where "suppose" is used, it is clear that a worked
> example is being constructed. The word "suppose" has been used to indicate
> examples for at least the past 30 years in the IETF, so we are not on new
> ground here. The fact that a worked example is being constructed could be
> highlighted with a new sub header. Some RFCs have whole sections on examples,
> but this draft does not, apart from appendix A on the use of RFC5444. I am
> content that the text as written is good, but the fact that this is a worked
> example and not specification text as such could be highlighted.

===================== Next Issue from Issue Tracker ======================
[manet] #26: Specification of optional features
==========================================================================

On 4/3/2014 2:14 PM, manet issue tracker wrote:
> #26: Specification of optional features
>
>  (Thomas Clausen) Related to the above point, an awful lot of the document
>  is optional, as exemplified by the below:
>
>
>  {{{
>          To avoid repeated failure of Route Discovery, an AODVv2 router
>          (HandlingRtr) handling a RREP message SHOULD attempt to verify
>          connectivity to the next upstream router towards AODVv2 router
>          originating an RREQ message. This MAY be done by including the
>          Acknowledgement Request (AckReq) message TLV (see Section 15.2)
>          in the RREP. Any unicast packet will satisfy the Acknowledgement
>          Request, for example an ICMP REPLY message.  If the verification
>          is not received within UNICAST_MESSAGE_SENT_TIMEOUT,
>          HandlingRtr SHOULD put the upstream neighbor in the blacklist.
>  }}}
>
>
>          So I have a (2119-languague) "SHOULD" telling me to "attempt to
>  verify connectivity". Then a (again, 2119-language) "MAY" suggesting to
>  accomplish that by sending an AckReq.
>
>          It's a MAY - therefore, I know (as it's 2119-language) that I do
>  not have to do that, send that message.  But I still SHOULD "attempt to
>  verify connectivity", so how do I do that?
>
>          It's not clear what it means that any "unicast packet will satisfy
>  the Acknowledgement Request" (which I decided to not send, as that was a
>  MAY), nor is it clear how the routing process will get access to any such
>  unicast packet (assuming, that is, that said unicast packet isn't destined
>  for that process).
>
>          Also, I am apparently supposed to receive a "verification" before
>  some timeout. Search as I may, I have not found anything indicating where
>  that "verification" is generated, I see no messages defined to this
>  effect, nor any processing allowing me to infer it.
>
>
>  ... from section 8.2:
>
>
>  {{{
>                  AODVv2 routers SHOULD monitor connectivity to adjacent
>                  routers along active routes.  This monitoring can be
>                  accomplished by one or several mechanisms, including:
>
>                  o  Neighborhood discovery [RFC6130]
>                  o  Route timeout
>                  o  Lower layer trigger that a link is broken
>                  o  TCP timeouts
>                  o  Promiscuous listening
>                  o  Other monitoring mechanisms or heuristics
>
>                  If a next-hop AODVv2 router has become unreachable,
>                  RERR_Gen follows the procedures specified in Section
>  8.3.2.
>
>  }}}
>
>          So, I will implement this protocol using RFC6130, since I happen
>  to have an implementation of RFC6130 around.  My next-door-neighbor,
>  Francois, also implements this protocol - but he doesn't have an RFC6130
>  implementation around, and therefore uses "route timeout".  As Francois
>  and I both are lazy, of course, we implement only one mechanism each (this
>  is allowed, according to the text).

===================== Next Issue from Issue Tracker ======================
[manet] #27: Processing AckReq
==========================================================================

On 4/3/2014 2:14 PM, manet issue tracker wrote:
> #27: Processing AckReq
>
>  (Thomas Clausen) this specification allows (MAY) me to send an !AckReq -
>  but doesn't tell me how to process it or how to act when receiving it.

===================== Next Issue from Issue Tracker ======================
[manet] #28: Routers with multiple interfaces
==========================================================================

On 4/3/2014 2:18 PM, manet issue tracker wrote:
> #28: Routers with multiple interfaces
>
>  (Thomas Clausen) It seems that the protocol does not support routers with
>  multiple interfaces. ...
>
>  {{{
>                  Multi-homing is difficult unless the sequence number is
>          expanded to include the AODVv2 router's IP address as well as
>          SeqNum.  Otherwise, comparing sequence numbers would not work
>          to evaluate freshness.  Even when the IP address is included, there
>          isn't a good way to compare sequence numbers from different IP
>          addresses, but at least a handling node can determine whether the
>          two given sequence numbers are comparable.  If the route table can
>          store multiple routes for the same destination, then multi-homing
>          can work with sequence numbers augmented by IP addresses.
>  }}}
>
>          Worse, though, after reading this paragraph in the applicability
>  statement, I actually still do not understand if this protocol can - or,
>  can not - be used on routers with multiple interfaces.
>
>          The applicability statement, also, reads:
>
>  {{{
>          AODVv2 supports routers with multiple interfaces, as long as
>          each interface has its own (unicast routeable) IP address; the
>          set of all network interfaces supporting AODVv2 is
>          administratively configured in a list (namely, AODVv2_INTERFACES).
>  }}}
>          which seems to be at odds with the previously quoted paragraph.

============================================================================

On 4/18/2014 4:48 PM, Charles E. Perkins wrote:
> Hello folks,
>
> AODVv2 does support multiple interfaces.  Multi-homing is a separate
> issue from supporting multiple interfaces.
>> #28: Routers with multiple interfaces
>>
>>  (Thomas Clausen) It seems that the protocol does not support routers with
>>  multiple interfaces. ... 
>
> ....
>>             Multi-homing is difficult unless the sequence number is
>>    expanded to include the AODVv2 router's IP address as well as Seqnum.
>>    Otherwise, comparing sequence numbers would not work to evaluate
>>    freshness.  Even when the IP address is included, there isn't a good
>>    way to compare sequence numbers from different IP addresses, but at
>>    least a handling node can determine whether the two given sequence
>>    numbers are comparable.  If the route table can store multiple routes
>>    for the same destination, then multi-homing can work with sequence
>>    numbers augmented by IP addresses. 
>
> The paragraph preceding this one in the draft provides context
> for this, making clear that this paragraph's discussion specifies
> that AODVv2 does not provide multi-homing for subnets.  I will
> move the discussion about what is needed for multi-homing into
> an appendix (not normative), for the purpose of assisting future
> designers of derivative reactive protocols.  This should eliminate
> the confusion.

===================== Next Issue from Issue Tracker ======================
[manet] #29: Choice of IP address
==========================================================================

On 4/3/2014 2:19 PM, manet issue tracker wrote:
> #29: Choice of IP address
>
>  (Thomas Clausen) In a great many places, it is stated "IP address of the
>  (node, Adjacent Node, Adjacent Router) sending the message".  If a router
>  has multiple interfaces, and/or if these interfaces have multiple
>  addresses, which of these (any? one matching the interface over which the
>  message is sent?) should be used or assumed here? The relationship
>  node/interface/address is, at best, unclear.  It seems to me that this
>  specification is written with the assumption that each router has
>  *exactly* one interface participating in the routing protocol, with
>  *exactly* one IP address - and that that router *never* use anything but
>  that IP Address for anything.
>
>  If that is correct, then it should be written clearly in the applicability
>  statement that multiple interfaces and multiple addresses are *NOT*
>  supported, and that this protocol MUST NOT be used in deployments where
>  any router can have more than one interface or more than one IP Address.
>
>  If that's not true, then a major rework of the protocol and the
>  specification is required.

============================================================================

On 4/24/2014 9:24 AM, Charles E. Perkins wrote:

> On 4/3/2014 2:19 PM, manet issue tracker wrote:
>> #29: Choice of IP address
>>
>>   (Thomas Clausen) In a great many places, it is stated "IP address of the
>>   (node, Adjacent Node, Adjacent Router) sending the message".  If a router
>>   has multiple interfaces, and/or if these interfaces have multiple
>>   addresses, which of these (any? one matching the interface over which the
>>   message is sent?) should be used or assumed here? The relationship
>>   node/interface/address is, at best, unclear.  It seems to me that this
>>   specification is written with the assumption that each router has
>>   *exactly* one interface participating in the routing protocol, with
>>   *exactly* one IP address - and that that router *never* use anything but
>>   that IP Address for anything. 
>
> When an application launches and has to send packets to a
> destination, the application selects a source IP address.
>
> That IP address is used by AODVv2 to indicate the originating
> node, when initiating the Route Discovery operation (in the
> case that a route to the intended destination is not found in
> the route table).
>
> When intermediate routers disseminate AODVv2 control
> messages, they can use any IP address that is convenient
> for the interface transmitting the message, as long as that
> address is unique from the standpoint of the receiver(s).
> Since the nodes are mobile, link-local addresses should be
> excluded from use for this purpose.  I will clarify that in the
> draft.  If, somehow outside the scope of the draft, it is
> known that link-local addresses are unique for all time
> for all ad hoc nodes that may enter the ad hoc network,
> then perhaps that restriction could be disregarded, but
> uniqueness is tough to guarantee for arbitrary mobile
> nodes that might come into contact.
>
> I will re-read the draft to see how to prevent the inference
> that an interface can only have one IP address.
>>
>>   If that is correct, then it should be written clearly in the applicability
>>   statement that multiple interfaces and multiple addresses are *NOT*
>>   supported, and that this protocol MUST NOT be used in deployments where
>>   any router can have more than one interface or more than one IP Address.
>>
>>   If that's not true, then a major rework of the protocol and the
>>   specification is required. 
>
> As far as I can tell, there is not really a problem here. 

============================================================================

On 4/24/2014 10:05 AM, Thomas Heide Clausen wrote:
> On 24 Apr 2014, at 18:24 , Charles E. Perkins <charliep@computer.org> wrote:

>> On 4/3/2014 2:19 PM, manet issue tracker wrote:
>>> #29: Choice of IP address
>>>
>>>   (Thomas Clausen) In a great many places, it is stated "IP address of the
>>>   (node, Adjacent Node, Adjacent Router) sending the message".  If a router
>>>   has multiple interfaces, and/or if these interfaces have multiple
>>>   addresses, which of these (any? one matching the interface over which the
>>>   message is sent?) should be used or assumed here? The relationship
>>>   node/interface/address is, at best, unclear.  It seems to me that this
>>>   specification is written with the assumption that each router has
>>>   *exactly* one interface participating in the routing protocol, with
>>>   *exactly* one IP address - and that that router *never* use anything but 
>>>   that IP Address for anything. 

> Just reflecting on what is quoted here, and without looking back at the I-D,
> talking about "the IP address of the adjacent node/router" very clearly
> indicates that the "adjacent node/router" has exactly one IP address (or,
> at least, uses exactly one IP address when participating in this routing
> domain).

>> When an application launches and has to send packets to a
>> destination, the application selects a source IP address. 

> User applications run on hosts, not on routers. So, that with which we are
> concerned should be exclusively "when a router receives an IP Datagram,
> with a given source and destination address"....

>> That IP address is used by AODVv2 to indicate the originating
>> node, when initiating the Route Discovery operation (in the
>> case that a route to the intended destination is not found in
>> the route table).

> So, this routing protocol precludes the presence of hosts in the network?
> Or, requires that all hosts also run (parts of) this routing protocol? Or
> the router with an attached host is expected to generate RREQs with the
> source address of the host as "source address" (i.e., IP spoofing)?  In the
> latter case, are RREP/RERRs sent "to" the IP Address  (i.e., with that as
> destination address) of the host (outside the routing domain)?

>> When intermediate routers disseminate AODVv2 control
>> messages, they can use any IP address that is convenient
>> for the interface transmitting the message, as long as that
>> address is unique from the standpoint of the receiver(s).

> Just so that it is clear, that "convenient" IP address is used for what?
> The source IP address for the datagram that carries an RFC5444 packet? Or,
> something else....
> Also, what happens in the case where A and B both have two interfaces
> (a1, a2) and (b1, b2) and all 4 interfaces can communicate with each other
> (so a1-b1, a1-b2, a2-b1, a2-b2)?
> Any way for A to identify that b1 and b2 is, in fact, the same router? Are
> the consequences, if the answer is "there is no way" thought completely
> through?

>> Since the nodes are mobile,

> s/node/router

============================================================================

On 4/25/2014 7:54 AM, Teco Boot wrote:
>
> Op 24 apr. 2014, om 19:05 heeft Thomas Heide Clausen
>                    <thomas@thomasclausen.org> het volgende geschreven:

    .........
>> On 24 Apr 2014, at 18:24 , Charles E. Perkins <charliep@computer.org> wrote:
    .........
>>> When an application launches and has to send packets to a 
>>> destination, the application selects a source IP address. 

>> User applications run on hosts, not on routers.
>
> ???
>
> Teco
>
> (sent from router :-))

============================================================================

On 4/27/2014 3:29 PM, Jiazi YI wrote:
>
>
> On Fri, Apr 25, 2014 at 4:54 PM, Teco Boot <teco@inf-net.nl> wrote:
>
>
>     Op 24 apr. 2014, om 19:05 heeft Thomas Heide Clausen
>                  <thomas@thomasclausen.org> het volgende geschreven:

>     > User applications run on hosts, not on routers.
>     ???
>
>     Teco
>
>     (sent from router :-))
>
> Or, I would rather say, a machine that runs as a host (when you are sending
> the mail above).  The same machine may connect several networks and forward
> packets for others - and it plays as a router :)

============================================================================

On 4/27/2014 10:01 PM, Teco Boot wrote:
>
> Op 28 apr. 2014, om 00:29 heeft Jiazi YI <ietf@jiaziyi.com>
> het volgende geschreven:

>> Or, I would rather say, a machine that runs as a host (when you are sending
>> the mail above).  The same machine may connect several networks and forward
>> packets for others - and it plays as a router :)

> The node is a router. It doesn’t run as a host.
>
> Teco

============================================================================

On 4/28/2014 12:10 AM, Thomas Heide Clausen wrote:
> Teco, don't read something from my mail, which I didn't write..
>
> As I think I have said repeatedly, "host" implies that certain relatively
> well defined characteristics (interface configuration, connectivity
> properties, etc.) are presented to applications.
>
> Some applications -- possibly, your email client -- can also function when
> presented with other characteristics. Good for them, but that doesn't make
> it true for all.
>
> Some routers - possibly the one you have at hand - are facing characteristics
> that are identical to those of a "host". Good for them, also, but that also
> doesn't make it true for all.

============================================================================

On 4/28/2014 12:53 AM, Teco Boot wrote:
> Can you refer to a document that describes "certain relatively well defined
> characteristics”?
>
> Are you aware of applications that doesn’t run wel on routers? What are the
> problems?
>
> Teco

============================================================================

On 4/28/2014 2:39 AM, Teco Boot wrote:
>
> Op 28 apr. 2014, om 09:59 heeft Thomas Heide Clausen <ietf@thomasclausen.org>
> het volgende geschreven:
>
>>
>>> On 28 avr. 2014, at 09:53, Teco Boot <teco@inf-net.nl> wrote:
>>>
>>> Can you refer to a document that describes "certain relatively well
>>> defined characteristics”?
>>
>> Sadly, I do not think that a single such document exists - remember the
>> debacles in this area in [autoconf]?
>
> Then, use RFC 1122. Defines multi-homed hosts and strong and weak host model.
>
>>
>>> Are you aware of applications that doesn’t run wel on routers? What are
>>> the problems?
>>
>> I can think of applications that doesn't run well on interfaces, common in
>> routers -- such as those we see in MANETS (lacking transitivity, for example).
>
> I think you mix up things. Apps can run on host and routers. Routers forward
> packets, hosts do not. Thats all.

============================================================================
............... exchange summarized in next note ...............
============================================================================

On 4/28/2014 7:21 AM, Teco Boot wrote:
>
> Op 28 apr. 2014, om 14:39 heeft Thomas Heide Clausen <ietf@thomasclausen.org>
> het volgende geschreven:
>
>> [almost out of battery here, I may go quiet for a bit.....]
>>
>>
>> On 28 Apr 2014, at 14:36 , Teco Boot <teco@inf-net.nl> wrote:
>>
>>>
>>> Op 28 apr. 2014, om 14:14 heeft Thomas Heide Clausen <ietf@thomasclausen.org> het volgende geschreven:
>>>
>>>>
>>>> On 28 Apr 2014, at 13:49 , Teco Boot <teco@inf-net.nl> wrote:
>>>>
>>>>>
>>>>> Op 28 apr. 2014, om 12:05 heeft Thomas Heide Clausen <ietf@thomasclausen.org> het volgende geschreven:
>>>>>
>>>>>>
>>>>>> On 28 Apr 2014, at 12:04 , Teco Boot <teco@inf-net.nl> wrote:
>>>>>>
>>>>>>>
>>>>>>> Op 28 apr. 2014, om 11:45 heeft Thomas Heide Clausen <ietf@thomasclausen.org> het volgende geschreven:
>>>>>>>
>>>>>>>>
>>>>>>>>>
>>>>>>>>> I think you mix up things. Apps can run on host and routers. Routers forward packets, hosts do not. Thats all.
>>>>>>>>
>>>>>>>> Nope, you're wrong here Teco: applications on hosts "expect" certain things as to how interfaces/links are configured.
>>>>>>>>
>>>>>>>
>>>>>>> The apps "expect" the same on host and router nodes: connectivity. If there is no direct link between two host or router nodes, routers can help by forwarding. 
>>>>>>>
>>>>>>
>>>>>> Some apps expect something more: semantics of on-link prefixes, LL multi/broadcast, ...
>>>>>>
>>>>>
>>>>> Do "semantics of on-link prefixes, LL multi/broadcast, …" on router and host differ
>>>>
>>>> I think that iTunes (for example) would be really really unhappy running over an NBMA-type interface.....or over a "MANET interface" lacking transitive connectivity.....or over an unnumbered interface... 
>>>>
>>>
>>> I didn’t see happy or unhappy apps
>>
>> s/happy/able to work correctly/
>>
>>> . If iTunes can reach the Apple servers over whatever interface type
>>> (NBMA, "MANET interface”, unnumbered), why would the user be unhappy?
>>> Tried bonjour in a subnetted network?
>>
>> Ah, but that is exactly the crux: what is the subnet model assumed by
>> applications?
>>
>> iTunes / bonjour et. al. assume that "the world looks like an Ethernet”.
>
> Hmm, I’m using such apps a lot on non-Ethernet links. Again, as long as the
> destination is reachable, I am happy.
> On bonjour, I don’t think you understand the problem. mDNS stuff doesn’t
> pass a router. So even interface type is Ethernet, users are not happy if
> destinations are unreachable.
>

>> The interfaces of MANET routers do not look like an Ethernet.
>
> I’m old enough to know old days ethernet doesn’t guarantee transitive
> connectivity.
> I know the purpose of MANET routing. It helps solving problems with wireless
> links (written down in the valuable document Charlie and Emmanual produced
> in autoconf days). But let not mix up host and router. And let not pop up
> "host application”, it is meaningless.

============================================================================

On 4/29/2014 6:32 AM, Martin Heusse wrote:
>
> Le 24 avr. 2014 à 18:24, Charles E. Perkins <charliep@computer.org> a écrit :
>
>> Hello folks,
>>
>> On 4/3/2014 2:19 PM, manet issue tracker wrote: 
>>> #29: Choice of IP address 
>>>
>>>   (Thomas Clausen) In a great many places, it is stated "IP address of the 
>>>   (node, Adjacent Node, Adjacent Router) sending the message".  If a router 
>>>   has multiple interfaces, and/or if these interfaces have multiple 
>>>   addresses, which of these (any? one matching the interface over which the 
>>>   message is sent?) should be used or assumed here? The relationship 
>>>   node/interface/address is, at best, unclear.  It seems to me that this 
>>>   specification is written with the assumption that each router has 
>>>   *exactly* one interface participating in the routing protocol, with 
>>>   *exactly* one IP address - and that that router *never* use anything but 
>>>   that IP Address for anything. 
>>
>> When an application launches and has to send packets to a 
>> destination, the application selects a source IP address. 
>>
>> That IP address is used by AODVv2 to indicate the originating 
>> node, when initiating the Route Discovery operation (in the 
>> case that a route to the intended destination is not found in 
>> the route table).
>>
>> When intermediate routers disseminate AODVv2 control
>> messages, they can use any IP address that is convenient
>> for the interface transmitting the message, as long as that
>> address is unique from the standpoint of the receiver(s).
>> Since the nodes are mobile, link-local addresses should be
>> excluded from use for this purpose.  I will clarify that in the
>> draft.  If, somehow outside the scope of the draft, it is
>> known that link-local addresses are unique for all time
>> for all ad hoc nodes that may enter the ad hoc network,
>> then perhaps that restriction could be disregarded, but
>> uniqueness is tough to guarantee for arbitrary mobile
>> nodes that might come into contact.
>
> This is a bit self-contradictory: if you are able to ensure some
> kind of address uniqueness, then you should be able to ensure
> link-local uniqueness. This second condition is actually weaker:
> a link local address need only be unique over a possibly bridged domain. 
>
> And then having link local uniqueness allows to follow the usual practice
> to use link local addresses as next hop, or as the source of routing
> messages. In this way, in case of network renumbering or whatnot, the
> neighbors'addresses don't change so the routing table does not have to
> be trashed. 
>
> So it would seem much simpler to recommend the use of link local
> addresses, unless their uniqueness is not guaranteed -- and then anyway
> the recommendation is merely "good luck"!. I'm talking only about the
> addresses for further  dissemination of routing messages. 

============================================================================

On 4/29/2014 8:52 AM, Christopher Dearlove wrote:
> This (use of link local addresses) wasn't acceptable to several people
> whose opinions mattered during the autoconf discussions.
>
> Doing this you end up making link local addresses visible throughout the
> MANET. Which is not link local, because to those people and their
> applications link local implies local on an ethernet-like subnet, i.e.
> with transitive, connectivity. Which the MANET does not have.
>
> There are people to whom this is acceptable, and they can run their MANETs
> that way. But you are offering a massive hostage to fortune if you try
> recommending this, because if you find even one person on the IESG to
> whom this is not acceptable (and I think you will) you'll have at best a
> significant delay, at worst, an effectively blocked document.
>
> (If you want to avoid problems with this or other documents, reading the
> not pretty history of autoconf and previous MANET RFCs may save you a lot
> of grief. Which as someone who has had some of it, i can advise avoiding.)
>
> There are MANET local addresses in RFC 5498 IIRC. Might be worth looking
> at those. But how you ensure uniqueness, other than by centralised
> allocation before deployment, is a difficulty. It's worth noting that
> authentication (and you will need it to even get published) will also
> raise overlapping configuration questions.

============================================================================

On 9/18/2014 4:22 AM, Abdussalam Baryun wrote:
>
>
> On Thursday, April 3, 2014, manet issue tracker wrote:
>
>     #29: Choice of IP address
>
>      (Thomas Clausen) In a great many places, it is stated "IP address of the
>      (node, Adjacent Node, Adjacent Router) sending the message".  If a router
>      has multiple interfaces, and/or if these interfaces have multiple
>      addresses, which of these (any? one matching the interface over which the
>      message is sent?) should be used or assumed here? The relationship
>      node/interface/address is, at best, unclear.  
>
> The protocol has defined the routing relations in addresses for messages.
> The relationship is clear in the route table entry see  its structure in
> section 5. Multiple interface is suitable as each interface has one routable
> address (this condition mentioned in draft). 
>  
>
>     It seems to me that this
>      specification is written with the assumption that each router has
>      *exactly* one interface participating in the routing protocol, with
>      *exactly* one IP address - and that that router *never* use anything but
>      that IP Address for anything.
>
> The protocol is for Multiple interfaces and each interface with only one
> routable address. Why does it seem to you that, please point to the draft
> where that was understood?
>  
> I think this ticket had not pointed in the draft-03 (submitted in Feb 2014)
> of the problem, Which makes this ticket issue difficult to understand.  

===================== Next Issue from Issue Tracker ======================
[manet] #30: Use of word "node"
==========================================================================

On 4/3/2014 2:21 PM, manet issue tracker wrote:
> #30: Use of word "node"
>
>  (Thomas Clausen) I find the use of "node" unfortunate. I would much prefer
>  "router", as this is a protocol running between routers. This applies both
>  in the text and in the "terminology mnemonics". I note that the text
>  sometimes uses "router" and sometimes "node", and it is not clear that/if
>  there is a difference, or if there should be a difference.  The word
>  "Router Client" is also used (albeit inconsistently capitalized) as is
>  "client".
>
>  An application running on a host has very, very specific expectations as
>  to how the underlying IP link behaves. Applications "Expect an IP Link
>  that looks like an Ethernet". I believe that it was Dave Thaler that once
>  said something like "don't expect Microsoft to rewrite their IP stack..."
>  Applications expect what they expect. Even, a protocol such as NDP, which
>  an IPv6-host uses to (among other things) configure its interfaces has
>  this expectation. Therefore, unless the goal is to explicitly not support
>  general applications and general IP stacks, an appropriate link model must
>  be presented to hosts.
>
>  Yes, links between MANET routers are not "looking like an Ethernet".
>  That's quite alright, as long as the *only* application seeing these
>  "MANET links" is the routing application.  Expose the weirdness of "a
>  MANET link" to an off-the-shelf app or protocol (such as NDP, mDNS, ...),
>  and unpredictable behaviour ensures.
>
>  The way that other MANET routing protocols have taken is, to provide an IP
>  hop isolation of the hosts (which run "off the shelf applications") from
>  the "MANET links": in other words, a "regular IP link" ties the "host" to
>  the "router" and the "router" then has one or more interfaces towards the
>  "MANET links".
>

============================================================================

On 4/3/2014 4:20 PM, Abdussalam Baryun wrote:
> I think draft uses node and router the same way it is used in the RFC3561
> which is good.  The AODVv2 is protocol between nodes. 

============================================================================

On 4/3/2014 5:19 PM, Abdussalam Baryun wrote:
>
> On Friday, April 4, 2014, Thomas Heide Clausen wrote:
>
>     3561 did it wrong.
>     What is the definition of "node"?
>
> Both documents define their word node clearly, I am not sure what was wrong.
> So I will expect you request deleting the word node definition in this draft.
> If RFC3561 has one line wrong (even if definition) then we need to update it.
> Please explain. 

============================================================================

On 4/3/2014 11:24 PM, Teco Boot wrote:
>
> Op 4 apr. 2014, om 01:42 heeft Thomas Heide Clausen <ietf@thomasclausen.org> het volgende geschreven:
>>
>> What is the definition of "node"?
>
> A node is a router or a host.
> A host may run a routing protocol, to learn routes.
> A router may forward packets. Hosts do not.

============================================================================

On 4/4/2014 6:28 AM, Teco Boot wrote:
>
> Op 4 apr. 2014, om 09:50 heeft Ulrich Herberg <ulrich@herberg.name> het volgende geschreven:
>
>> A host may run a routing protocol, to learn routes.
>>
>> Do you mean "router" instead of host? Routers usually run routing protocols,
>> hosts do not.
>
> I wrote may.
> A node with willingness WILL_NEVER is a host, not a router.
>
>>  
>> A router may forward packets. Hosts do not.
>>
>> + Routers send Router Advertisements (RFC4861), hosts do not.
>
> Only IPv6 routers do.

============================================================================

On 4/4/2014 6:51 AM, Dearlove, Christopher (UK) wrote:
> A node with willingness WILL_NEVER is a router - that WILL_NEVER is a routing
> protocol parameter, i.e. it's running a routing protocol (possibly a
> cut-down one), i.e. it's a router. If you try just running host software on
> it, things will break.

============================================================================

On 4/5/2014 4:24 AM, Daniel He wrote:
> I  agree Thomas' argument. Node is not a proper word in this document.
> It is too vague, not defined any functions at all.
>
> Router is a specific device. it must forward messages, and does routing
> function. I think MANET document should use router consistently!

============================================================================

On 4/5/2014 7:31 AM, Christopher Dearlove wrote:
> You could have some hosts. But there will be constraints on them. You'd
> have to write what routers do and what hosts do. Making a more complicated
> protocol, with reduced performance over everything a router. You can't
> just say "there are routers and hosts, they all do this".

===================== Next Issue from Issue Tracker ======================
[manet] #31: Suitability for implementation on commodity OS
==========================================================================

On 4/3/2014 2:23 PM, manet issue tracker wrote:
> #31: Suitability for implementation on commodity OS
>
>  (Thomas Clausen)
>
>  First, there is the whole "react to failure to deliver an IP datagram due
>  to not having an entry in the routing table, and by way of flooding
>  control traffic", which is a formidable vector for making every router in
>  the network participate in a DDOS attack.
>
>  Second, from section 5.1:
>
>
>  {{{
>                  The route table entry is a conceptual data structure.
>                  Implementations may use any internal representation so
>                  long as it provides access to the information specified
>                  below.
>  }}}
>  <snip>
>
>
>  {{{
>                  The route's state determines the operations that can be
>                  performed on the route table entry.  During use, an Active
>                  route is maintained continuously by AODVv2 and is
>                  considered to remain active as long as it is used at least
>                  once during every ACTIVE_INTERVAL.  When a route is no
>                  longer Active, it becomes an Idle route.  After an idle
>                  route remains Idle for MAX_IDLETIME, it becomes an Expired
>                  route.
>  }}}
>
>
>          So, part of the data structures, maintained by this protocol, are
>  the "route table entry", whose state depends on if a route is "used at
>  least once during ..." -- i.e., the routing process must be notified every
>  time a data packet is being forwarded? I do not know for sure, but I am
>  not sure that that's even possible to do on commodity operating systems -
>  but, it does appear to be rather inefficient, increasing per-packet
>  processing overhead for a router?
>
>  Section 8.1:
>
>  {{{
>                  Before using a route to forward a packet, an AODVv2 router
>                  MUST check the status of the route as follows.
>  }}}
>
>
>  Does this imply that the operating system needs to also be modified to
>  also consult with data-structures, maintained internally by this protocol?
>
>  The point here is not (necessarily) that it is bad to do so - but, it
>  would be required that all such assumptions and requirements be called out
>  in the applicability statement: "This protocol requires that the operating
>  system permits you to do XXX, YYY, ZZZ".

===================== Next Issue from Issue Tracker ======================
[manet] #32: Multicast transmission
==========================================================================

On 4/3/2014 2:24 PM, manet issue tracker wrote:
> #32: Multicast transmission
>
>  (Thomas Clausen)
>
>  Section 5.4:
>
>  {{{
>                  In order to reduce multicast overhead, retransmitting
>                  multicast packets in MANETs SHOULD be done according to
>                  methods specified in [RFC6621]
>  }}}
>
>
>  What happens if that "SHOULD" is not done? Does it break interoperability?
>  Also, RFC6621 is not std.track, so this is a downref that requires special
>  handling. I note that SHOULD is a fairly strong normative statement, but
>  the RFC6621 is cited as an informational reference. This does not appear
>  appropriate.
>
>  And finally, RFC6621 specifies a number of different algorithms and modes
>  of operation, some of which require additional signalling.  For
>  interoperable implementations to result, this is insufficient.

============================================================================

On 9/8/2014 5:47 AM, Abdussalam Baryun wrote:
> On 4/3/14, manet issue tracker <trac+manet@trac.tools.ietf.org> wrote:
>> #32: Multicast transmission
>>
>>  (Thomas Clausen)
>>
>>  Section 5.4:
>>
>>  {{{
>>                  In order to reduce multicast overhead, retransmitting
>>                  multicast packets in MANETs SHOULD be done according to
>>                  methods specified in [RFC6621]
>>  }}}
>>
>>
>>  What happens if that "SHOULD" is not done? Does it break interoperability?
>
> The draft guides to RFC6621 as reducing overhead option. There is no
> break from my understandning. If you have break example or analysis
> please provide for progress.
>
>  That multicast-overhead is a multicast protocol problem not this
> draft problem. Reactive multicast can be done in future after
> finishing this. I know that multicast in reactive protocol is
> important that is why I suggested before to the WG that we postpone
> any reactive multicast work until we finish this work (I argued with
> Thomas this issue). Do you mean RFC6621 did not consider reactive
> protocol use of it, if that is the meaning then we should update
> RFC6621 to consider that.
>
>>  Also, RFC6621 is not std.track, so this is a downref that requires special
>>  handling. I note that SHOULD is a fairly strong normative statement, but
>>  the RFC6621 is cited as an informational reference. This does not appear
>>  appropriate.
>
> I am not sure about that normative issues. But I see there is a
> condition as if you want to reduce overhead then go for RFC6621. I
> don't mind that we edit that "SHOULD" into "should".
>
>>
>>  And finally, RFC6621 specifies a number of different algorithms and modes
>>  of operation, some of which require additional signalling.  For
>>  interoperable implementations to result, this is insufficient.
>
> I suggest we add that the draft does not go into details of RFC6621
> modes, I suggest that to be done in another draft.

===================== Next Issue from Issue Tracker ======================
[manet] #33: RFC 5444 processing constraint
==========================================================================

On 4/3/2014 2:31 PM, manet issue tracker wrote:
> #33: RFC 5444 processing constraint
>
>  (Thomas Clausen)
>  I have a general concern about how this protocol imposes constraints
>  on RFC5444 usage, which precludes co-existence with other RFC5444
>  protocols running on the same device.
>
>  Let me give an example hereof, from Section 5.4:
>
>
>  {{{
>                  When multiple messages are aggregated into a single packet
>                  according to RFC 5444 formatting, and the aggregation of
>                  messages is also authenticated (e.g., with IPsec), and the
>                  IP destination is multiple hops away, it becomes
>  infeasible
>                  to delete individual messages.  In such cases, instead of
>                  deleting individual messages, they are maintained in the
>                  aggregation of messages, but simply ignored for further
>                  processing.  In such cases where individual messages
>  cannot
>                  be deleted, in this document "disregarded" means
>  "ignored".
>                  Otherwise, any such "disregarded" AODVv2 messages SHOULD
>  be
>                  deleted from the aggregated messages in the RFC 5444
>  packet.
>  }}}
>
>  An RFC5444 packet is *never* to be sent more than one hop.
>  ... A router receives an RFC5444 packet, decapsulates
>  it, process each message (if appropriate), the owner process of each
>  message identifies which messages are to be forwarded (if appropriate),
>  hands those off to the appropriate "message multiplexing engine" which
>  packs those messages up in a new RFC5444 packet, and transmits that
>  new RFC5444 packet.
>
>  Also, in RFC5444 messages, addresses are contained in address blocks.
>  There is no semantics associated with an address being in one address
>  block, or in another (in fact, (re-)organising addresses into address
>  blocks is one of the tricks to use to obtain more compact messages).
>  Likewise, there is no semantics associated with an address being first,
>  last, or in any other position in an address block: the ordering of
>  addresses in an address block carries no semantics.
>
>  Therefore, writing something like this:
>
>
>  {{{
>                  RteMsg.Address[i] denotes the [i]th address in an RFC 5444
>                  AddrBlk of the RteMsg. RteMsg.PrefixLength[i] denotes the
>                  associated prefix length for RteMsg.Address[i], and
>                  RteMsg.{field} denotes the corresponding value in the
>  named
>                  AddrTLV block associated with RteMsg.Address[i].
>  }}}
>
>
>  makes no sense whatsoever (aside from the fact that I do not understand
>  the notation !RteMsg.{field} - that would indicate a "field" in a
>  message, not in an attribute associated with an address).
>
>  Let me give one more example, from section 9:
>
>
>  {{{
>             If a message with an unknown type is received, the message is
>             disregarded.
>  }}}
>
>
>  An implementation of this specification will (according to RFC5444)
>  "own", and therefore get messages that this protocol has gotten
>  assigned by IANA, say, RREQ/RREP/RERR/RREP_ACK.  Messages of any
>  other Message Types will not (again, according to RFC5444) be
>  delivered to an implementation of this protocol.
>
>  Therefore, this protocol <should not>
>  specify discarding any message types other than those than it "owns".

============================================================================

On 5/28/2014 3:26 PM, Charles E. Perkins wrote:
> I did not find the specification within RFC5444 mandating the
> limitation as stated below.   In fact, RFC 5444 has the following text:
>
> =============================================================
>    o  <msg-hop-limit> field, if present, contains the number of hops on
>       which the packet is allowed to travel before being discarded by a
>       MANET router.    ....
>
>    o  <msg-hop-count> field, if present, contains the number of hops on
>       which the packet has traveled across the MANET.      ....
> ==============================================================
>
> which many people would interpret to indicate that a packet might
> traverse multiple hops.
>
> Anyway, I will do the following:
> a) make it clear that AODV multicast packets traverse only a single
>      hop and
> b) remove the unnecessary passages from the relevant text cited below
>     in section 5.4. 

============================================================================

On 5/28/2014 3:33 PM, Thomas Heide Clausen wrote:
>
>> On 29 mai 2014, at 00:26, "Charles E. Perkins" <charliep@computer.org> wrote:
>>
>> I did not find the specification within RFC5444 mandating the
>> limitation as stated below.   In fact, RFC 5444 has the following text:
>>
>> =============================================================
>>   o  <msg-hop-limit> field, if present, contains the number of hops on
>>      which the packet is allowed to travel before being discarded by a
>>      MANET router.    ....
>>
>>   o  <msg-hop-count> field, if present, contains the number of hops on
>>      which the packet has traveled across the MANET.      ....
>> ==============================================================
>>
>> which many people would interpret to indicate that a packet might
>> traverse multiple hops.
>
> Packet != message

============================================================================

On 5/28/2014 4:41 PM, Christopher Dearlove wrote:
> Charlie
>
> Thanks for pointing that out. That is text in a non-normative appendix and
> is an error. The normative text in Section 5.2 refers to messages, and so
> should this appendix. I will put in an erratum to correct that.
>
> But your (a) is incorrect. There are no such things as AODV packets. Packets
> are owned by the 5444/5498 multiplexing process. Only messages are owned
> by AODVv2.

============================================================================

On 5/29/2014 7:52 AM, Abdussalam Baryun wrote:
>
>
> On Thu, May 29, 2014 at 1:00 AM, Christopher Dearlove
>			<christopher.dearlove@gmail.com> wrote:
>
>>     ....... There are no such things as AODV packets. Packets are owned
>> by the 5444/5498 multiplexing process. Only messages are owned by AODVv2. 
>
> From RFC5444 alone I think any protocol using it can specify its packets,
> but if we are using same multiplexing within the MANET then your routing
> protocol needs to follow 5444/5498.

============================================================================
   ...... some intermediate messages deleted..... 
============================================================================

On 9/9/2014 7:36 AM, Stan Ratliff (sratliff) wrote:
> On Sep 8, 2014, at 8:58 PM, Abdussalam Baryun <abdussalambaryun@gmail.com>
> wrote:
>>
>>>     Disregard does not mean drop, so those messages are still in next 5444
>>>     packet. This comes back to multiplexing by ownership or not, which that
>>>     is not specified yet so we leave it for another future draft for
>>>     multiplexing. We need to focus this reactive standard not make it
>>>     complicated. 

>>     Again, I respectfully disagree. A deployment model to envision is a
>>     router, running both OLSRv2 and AODVv2. Both of those protocols share
>>     a transport using RFC5444 to a second router, which is also running
>>     both protocols. The "multiplexing" being spoken of would be a mix of
>>     OLSRv2 and AODVv2 messages, bundled up into an RFC5444 packet. 

>> Ok, to be more general and to serve majority users of AODVv2 and more
>> security consideration.  we need to consider that some users don't want
>> such mix network and some do. First if users are wanting your mix scenario
>> then they go for a parser that is unified for both protocols ( this case
>> routers need same multiplexing method otherwise they don't work ), while
>> parsers are independent of protocols as RFC5444 says. If the AODVv2 sends
>> a packet then parser is able to do packing again locally with adding other
>> messages if available. Secondly,  users don't want to use specific unified
>> parser dependence, so just the one protocol packing with its user method
>> for security purpose. This way we have more independence for this AODVv2. 

> If a given protocol specification/design adheres to the RFC 5444 multiplexing
> as it should, then both of your scenarios above (e.g., "…some users don't
> want such mix network and some do.") work just fine. However, if a given
> protocol specification does NOT adhere to the RFC 5444 multiplexing, it
> then PRECLUDES the protocol from being used in what you are calling a
> "mixed network". In summary, adherence to the RFC 5444 multiplexing gives
> deployments MORE flexibility instead of less, and is, IMHO, the superior
> design choice.  As for your assertion that "…users don't want to use
> specific unified parser dependence…", I believe that is at best merely
> anecdotal, and at worst, completely baseless. 

===================== Next Issue from Issue Tracker ======================
[manet] #34: Section 13 must be removed
==========================================================================

On 4/3/2014 2:33 PM, manet issue tracker wrote:
> #34: Section 13 must be removed
>
>  (Thomas Clausen)
>  The whole of section 13 must be removed, with the exception of section
>  13.6 which is already covered by RFC5444. All the other optional
>  mechanisms are either underspecified, with known problems in common
>  deployment topologies, or both. Further, they are clearly indicated
>  as "not needed" so why are they included?

============================================================================

On 9/10/2014 6:13 AM, Abdussalam Baryun wrote:
> I disagree with this proposed ticket or bug-issue. 
>
> On Thursday, April 3, 2014, manet issue tracker wrote:
>
>     #34: Section 13 must be removed
>
>      (Thomas Clausen)
>      The whole of section 13 must be removed, with the exception of section
>      13.6 which is already covered by RFC5444. 
>
> RFC5444 is just format, has no functions and it does not specifying any
> protocol. This section 13.6 is part of protocol.  
>
>     All the other optional
>      mechanisms are either underspecified, with known problems in common
>      deployment topologies, or both. Further, they are clearly indicated
>      as "not needed" so why are they included?
>
> They are not normative for protocol. What are problems you refer to, I
> don't understand you. However, I don't find the indication "not needed".

===================== Next Issue from Issue Tracker ======================
[manet] #35: A constant is constant
==========================================================================

On 4/3/2014 2:34 PM, manet issue tracker wrote:
> #35: A constant is constant
>
>  (Thomas Clausen)
>  Section 14.2 "Protocol Constants" contains a semantically null
>  sentence AODVv2 protocol constants typically do not require changes
>
>  A constant is constant, therefore it doesn't change. Even for very
>  loose definitions of constant.  With that being said, the interesting
>  part here is actually not that bit...but rather, what happens *if*
>  these are not set to the values that are indicated? Or, if different
>  implementations use different values for these? The same holds for
>  14.2, btw: is a network able to operate with different routers setting
>  different values? Will it break? Degrade gracefully? Just work?

============================================================================

On 5/28/2014 11:51 AM, Charles E. Perkins wrote:

> I'm not quite sure what to do about this.  Contrary to the assertion,
> the term "Protocol Constant" is pretty well understood and has been
> used with the same meaning in numerous existing RFCs.  I think that
> it would be interesting to explore the results of using different constants,
> but the intention is clearly that implementations should use the numbers
> as provided.
>
> If desired, I can try to fashion some text to suggest the results of
> using different numbers (e.g., for use in atypical situations).

============================================================================

On 5/29/2014 8:06 PM, John Mullen wrote:
> Hi All,
> I've been a lurker for some time, but as a mathematician and engineer,
> I've always interpreted "constant" as a value that is unchanging in the
> current analysis, not necessarily a constant in the sense of Euler's
> constant. So my interpretation is that these are values that are not to
> be modified dynamically, but may be modified in certain situations and
> possibly due to some yet-unknown technology by the people setting up the
> network. It is also my experience that people who do this use the default
> values unless something comes up that warrants adjustment. So, I think
> the language is clear enough.

============================================================================

On 5/30/2014 1:48 AM, Dearlove, Christopher (UK) wrote:
> The approach we took in NHDP and OLSRv2 is, I think, consistent with how
> you see it. A constant is the same across the MANET, and (a necessary
> consequence of that) not dynamically changing. For out of the box
> compatibility we had a fixed value that we would expect most, maybe even
> all, MANETs to use, but you could deploy a specialised MANET with a
> different value.
>
> I haven't checked the AODVv2 language to see if consistent with that.
> I think more variable than that would be confusing to use the word constant.
> As a practical matter, a strongly recommended (at least) default value is a
> good idea. More constant than that (fixed value, never changes, same in all
> MANETs) is of course a special case.

============================================================================

On 5/30/2014 9:43 AM, Abdussalam Baryun wrote:
> This draft purpose is implementation, so the understandning target
> should be targeting implementers (which they not needed to be
> engineers or mathematics). IMHO, within any protocol
> specification/program-language, its constants are not variable and its
> variables are not constant.
>
>  IMHO, this ticket #35 mostly points to a sentence, therefore it
> means: Remove the sentence "AODVv2 protocol constants typically do not
> require changes". or Replace to: " AODVv2 protocol constants' values
> are typically default values".
>
> I do not disagree with the ticket (i.e. it maybe did not recommend
> edit sentence), because that sentence may cause confusion to the
> implementers that know that constants cannot change. If editors don't
> want to remove/replace then we may add more words to clarify in a
> better way for all understandings. Please advise,

===================== Next Issue from Issue Tracker ======================
[manet] #36: Security Considerations: Reactive protocol concept
==========================================================================

On 4/3/2014 2:36 PM, manet issue tracker wrote:
> #36: Security Considerations: Reactive protocol concept
>
>  (Thomas Clausen)
>  First, there is the whole "react to failure to deliver an IP datagram
>  due to not having an entry in the routing table, and by way of
>  flooding control traffic", which is a formidable vector for making
>  every router in the network participate in a DDOS attack.

============================================================================

On 4/13/2014 11:33 AM, Abdussalam Baryun wrote:
> On Thursday, April 3, 2014, manet issue tracker wrote:
>
>     #36: Security Considerations: Reactive protocol concept
>
>      (Thomas Clausen)
>      First, there is the whole "react to failure to deliver an IP datagram
>      due to not having an entry in the routing table, and by way of
>      flooding control traffic", 
>
> Not sure where in the document texts you find a react to failure to delivery
> by flooding.  
>
>     which is a formidable vector for making
>      every router in the network participate in a DDOS attack.
>
> Where is the attack related to the AODVv2 functions or informations?

============================================================================

On 4/15/2014 8:32 AM, John Dowdell wrote:
> I think what Thomas is getting at is:
> - a datagram arrives from a host, addressed to a destination that is not
>   listed in the handling routers table of routes.
> - handling router reacts (as it is supposed to) by sending RREQ messages
>   and expecting either RREP or RERR messages in return.
>
> It is possible for an intermediate router with malicious code to send a
> message that creates inconsistencies in the tables of all routers in the
> network. Therefore some consistency checking should take place to sense
> check recently received messages against the previously known state.
> However, this may be difficult since a reactive protocol by nature will not
> achieve consensus among all routers and only fragments of the whole picture
> will ever be formed.
> It could be argued that certificates could be used to verify the authenticity
> of the received information. To a certain extent that may defend against
> the above problem, but not always, and I believe that the problem of making
> sure all code is not malicious is out of scope of this draft.

============================================================================

n 4/15/2014 1:12 PM, Thomas Heide Clausen wrote:
> On 15 avr. 2014, at 17:32, John Dowdell <john.dowdell.ietf@gmail.com> wrote:
>
>> I think what Thomas is getting at is:
>> - a datagram arrives from a host, addressed to a destination that is not
>>   listed in the handling routers table of routes.
>> - handling router reacts (as it is supposed to) by sending RREQ messages
>>   and expecting either RREP or RERR messages in return.

> That which I am concerned with is, that receipt of a simple unicast data
> packet will trigger a router to do a network-wide flood of RREQs...a
> formidable way for a malicious router to get all it's neighbors to perform
> a DDoS on the network, essentially transforming each unicast packet into
> a network-wide flooding operation.
> So a bad guy can just generate a stream of *unicast* data packets, with
> each packet addressed to (different) non-existing destinations. Use each
> (known) neighbor as next hop in a round-robin fashion, and essentially
> the network is effectively brought to an un-usable state - not just locally,
> but globally.

>> It is possible for an intermediate router with malicious code to send a
>> message that creates inconsistencies in the tables of all routers in the
>> network.
>> Therefore some consistency checking should take place to sense check
>> recently received messages against the previously known state. However,
>> this may be difficult since a reactive protocol by nature will not achieve
>> consensus among all routers and only fragments of the whole picture will
>> ever be formed.

> That's a different - but also interesting - issue. I had actually not
> thought about that, but you are right, that definitely needs to be
> documented and alleviated.

>> It could be argued that certificates could be used to verify the
>> authenticity of the received information. To a certain extent that may
>> defend against the above problem, but not always, and I believe that
>> the problem of making sure all code is not malicious is out of scope
>> of this draft.

> With all due respect, I do believe that publishing on std. track entails
> that there are no known problems and security issues with the protocol.
> I forget the exact wording, but it's something to this effect.
> It seems to be the case here that we very much are aware of several security
> issues -- and that therefore they must either be resolved, or publication
> on std. track is premature.

============================================================================

On 4/16/2014 3:46 AM, John Dowdell wrote:

> On Tuesday, April 15, 2014, Thomas Heide Clausen <ietf@thomasclausen.org>
> wrote:
             ..........
>> It seems to be the case here that we very much are aware of several security
>> issues -- and that therefore they must either be resolved, or publication
>> on std. track is premature.
>
> I agree that the possibility of the problem needs to be stated in the draft
> under security issues.
> The resolution to the problem is really just to follow industry best
> practice. Does your organisation enjoy sole rights of administration over
> the routers? If so, are all configuration changes logged, is all activity
> logged, and is everything audited regularly to make sure everything is ok?
> If not, then how much can you trust that router and what standard security
> countermeasures are you putting in place to defend against attack,
> misconfiguration, or implementation holes? Is your own code checking
> every message for correctness and consistency?

============================================================================

On 4/16/2014 1:45 PM, Farrag, Osama wrote:
> Thomas;
> Apologies for the unpleasant experience with IEEE journal web site, I get
> access to many journals through my employer, so I have no idea which papers
> require payments. And to be clear, I don't get any financial gains from
> publishing this paper in this IEEE publication. And to prove it, I attached
> a copy of the paper. Not just for your convenience, but for the benefit of
> every one in the IETF MANET working group distribution. As to writing I-D
> mechanism/protocol extension. I recommend that the IETF MANET working group
> community evaluate this approach and provide feedback before spending too
> much time and then facing roadblocks.
> The Johns Hopkins University /APL
....... <link to TAM paper> ...................

===================== Next Issue from Issue Tracker ======================
[manet] #37: Security Considerations: what needs to be implemented?
==========================================================================

On 4/3/2014 2:38 PM, manet issue tracker wrote:
> #37: Security Considerations: what needs to be implemented?
>
>  (Thomas Clausen)
>
>  {{{
>  This section does not mandate any specific security measures.
>  Instead, this section describes various security considerations
>  and potential avenues to secure AODVv2 routing.
>  }}}
>
>
>  ... this is
>  not going to pass muster. At least, a "Mandatory to Implement" security
>  mechanism is going to be required.

===================== Next Issue from Issue Tracker ======================
[manet] #38: difficulty to do security, in case messages are mutable
==========================================================================

On 4/3/2014 2:41 PM, manet issue tracker wrote:
> #38: difficulty to do security, in case messages are mutable
>
>  {{{
>          The most important security mechanisms for AODVv2 routing are
>          integrity/authentication and confidentiality.
>
>          In situations where routing information or router identity are
>          suspect, integrity and authentication techniques SHOULD be
>          applied to AODVv2 messages.  In these situations, routing
>          information that is distributed over multiple hops SHOULD also
>          verify the integrity and identity of information based on
>          originator of the routing information.
>  }}}
>
>  This is really difficult to do, in case messages are mutable in-transit,
>  which appears to be the case for this protocol?  I think that this
>  issue of mutable messages deserves being called out explicitly in this
>  section, especially if there are known or recommended ways of handling
>  this (as is the case, for example, in the security considerations
>  section of RFC5444 regarding the mutable header fields for
>  hop-count/hop-limit of messages.

===================== Next Issue from Issue Tracker ======================
[manet] #39: Route.Broken flag redundant
==========================================================================

On 4/8/2014 8:39 AM, manet issue tracker wrote:
> #39: Route.Broken flag redundant
>
>  Section 5.1. mandates that a route table entry contains a Route.Broken
>  flag, which should indicate whether a route is broken. Additionally, it
>  mandates that the route's state be stored. One of the possible states a
>  route can assume is Broken, which makes the dedicated Route.Broken flag
>  redundant.
>  Whenever a route breaks, two fields instead of one have to be updated (and
>  2 have to be read if a route is to be checked for brokenness etc), without
>  any additional benefit, which seems like unnecessary overhead to me.

============================================================================

On 4/11/2014 4:24 PM, Charlie Perkins wrote:

> This is a good point.  The terminology of a "broken flag" seems to be a
> holdover from a long time ago, and would indicate that the route table entry
> is in a "broken" state.  I'll eliminate the "broken flag" terminology.

===================== Next Issue from Issue Tracker ======================
[manet] #40: AckReq vs RREP_ACK
==========================================================================

On 4/22/2014 12:39 PM, manet issue tracker wrote:
> #40: AckReq vs RREP_ACK
>
>  In Section 13.5., the AODVv2 Draft briefly describes a mechanism called
>  RREP_ACK, which seems to serve a similar purpose as the AckReqs described
>  in section 5.2.
>  While RFC 3561, which is referenced in section 13.5., explains that a
>  RREP-ACK is sent when a packet with the 'A' bit set is received, the
>  AODVv2 does not describe how a RREP_ACK is triggered.
>  Additionally, the draft does not specify how a RREP_ACK should be handled.
>  If the feature of a RREP_ACK is really needed, a more thorough explanation
>  should be added. Otherwise, removing it could be a step towards de-
>  cluttering the draft.

===================== Next Issue from Issue Tracker ======================
[manet] #41: AckReq vs RREP_ACK
==========================================================================

On 4/22/2014 12:39 PM, manet issue tracker wrote:
> #41: AckReq vs RREP_ACK
>
>  In Section 13.5., the AODVv2 Draft briefly describes a mechanism called
>  RREP_ACK, which seems to serve a similar purpose as the AckReqs described
>  in section 5.2.
>  While RFC 3561, which is referenced in section 13.5., explains that a
>  RREP-ACK is sent when a packet with the 'A' bit set is received, the
>  AODVv2 does not describe how a RREP_ACK is triggered.
>  Additionally, the draft does not specify how a RREP_ACK should be handled.
>  If the feature of a RREP_ACK is really needed, a more thorough explanation
>  should be added. Otherwise, removing it could be a step towards de-
>  cluttering the draft.

============================================================================

On 5/28/2014 10:34 AM, Charlie Perkins wrote:

> I am O.K. with removing the RREP_ACK from the draft.  There was
> some discussion a while back about compatibility, but I have not
> seen anyone defending the RREP_ACK in this discussion and it was
> not present in the previous DYMO drafts.
>
> If anyone would prefer to keep RREP_ACK, then I will try to fashion
> some more detailed specification for handling it, which will be
> basically the way it was handled by AODV. 

============================================================================

On 5/28/2014 12:03 PM, Yuichi IGARASHI wrote:
> Hi Charlie,
>
> It says in sec.4 that "AODVv2 only supports bidirectional links”. But,
> if you remove RREP_ACK from the spec, how does AODVv2 itself ensure all
> links are bi-directional? AODVv2 requires all routes to implement other
> protocol for verifying bi-directionality of links? I am sure that would
> cause interoperability problems.
> Also, this is related to tickets #26 and #27, I think.


============================================================================

On 5/28/2014 2:41 PM, Charlie Perkins wrote:

> Bidirectionality can be tested in various ways, even by
> just using ping (which is required by IP and thus always
> available).  This is discussed briefly at the top of
> page 9 in the current revision, but I will be happy to
> expand the discussion.  Please let me know how I can
> improve the description.  I will cite include a citation
> for ping (i.e., ICMP Echo Request/Reply).


============================================================================

On 5/28/2014 2:59 PM, Henning Rogge wrote:

> so you plan to remove the "AODVv2 does only support bidirectional links" part?

============================================================================

On 5/28/2014 3:48 PM, Charlie Perkins wrote:

> No, just the parts about RREP_ACK.  In order to support
> bidirectional links, more protocol is needed.  This is well
> known from past efforts, but not part of the current
> reactive protocol.
>
> Instead, the document will suggest other methods for
> testing bidirectionality (for example, ping). 

============================================================================

On 5/28/2014 3:56 PM, Henning Rogge wrote:
> On Thu, May 29, 2014 at 12:48 AM, Charlie Perkins
> <charles.perkins@earthlink.net> wrote:

>> No, just the parts about RREP_ACK.  In order to support
>> bidirectional links, more protocol is needed.  This is well
>> known from past efforts, but not part of the current
>> reactive protocol.
>>
>> Instead, the document will suggest other methods for
>> testing bidirectionality (for example, ping).
>
> Sorry, but I don't think this makes sense.
>
> If your routing protocol does ONLY support bidirectional links, it
> needs to make sure not to setup routes over non-bidirectional links.
>
> Just to make this clear, will AODVv2 setup routes over links that are
> asymmetric? Or do you plan to call external programs for checking
> links to be bidirectional during the routing processing?

============================================================================

On 5/28/2014 4:03 PM, Jiazi YI wrote:

> In my opinion, the handling of uni-directional links is very important for
> MANET protocols. Giving several possible options without specification
> doesn't look like a standard track protocol. 

============================================================================

On 5/28/2014 4:05 PM, Charlie Perkins wrote:

> Do you mean to say that you think AODVv2 should provide routes
> whenever they exist even in networks with unidirectional links?

============================================================================

On 5/28/2014 4:12 PM, Jiazi YI wrote:
> Hi Charlie,
> No exactly what I meant. 
> Unidirectional links are common in MANET - I think we agree on this. 
> Therefore, the routing protocol should be able to build provide routes
> considering the fact given above.  It can be, for example, avoid using
> such kind of links -- or other smarter ways. 
> But not matter which way to take, it should be clearly specified. 

============================================================================

On 5/28/2014 4:54 PM, Christopher Dearlove wrote:
> The important thing is that implementations interoperate and work.
> - Multiple options that don't interoperate is not going to fly as a
>   standards track protocol.
> - Multiple options where each router could pick a different option reall
>    needs to justify that this will work, and still is going to have a
>    uphill struggle to be acceptable.
> It would be useful to know what here makes things not really reactive,
> but partially proactive, and what here adds to reactive route discovery delay.
> What's been implemented here - even in simulation?

============================================================================

On 5/28/2014 7:44 PM, Yuichi IGARASHI wrote:
> Hi Charlie,
>
> I understand there are some ways(ping, etc) to verify that. But what you
> mentioned seems that specifying a way to check that is out of scope of this
> draft( depends on implementations), although AODVv2 supports bidirectional
> links.
>
> My suggestion is to describe details of RREP_ACK processing/generating parts
> additionally in order to interoperate easily with multi vendors, instead of
> removing RREP_ACK part. Also,it should be removed MAY and various options. 

============================================================================

On 5/29/2014 12:51 AM, Henning Rogge wrote:
> On Thu, May 29, 2014 at 1:13 AM, Charlie Perkins
> <charles.perkins@earthlink.net> wrote:

>> There are several methods by which bidirectionality can
>> be assured, including the use of blacklists for RREQ/RREP,
>> NHDP, ping, and others.  DYMO had left this choice up
>> to the implementation, and other implementations in the
>> past have shown that was feasible.  The only reason for the
>> more recent inclusion of RREP_ACK was upon suggestion for
>> compatibility with other proposals, and I am O.K. with
>> either taking out RREP_ACK or leaving it in with additional
>> specification.
>>
>> I don't think "ping" qualifies as an external program.

> ICMP/ICMP-Reply might be the only one with a good chance of
> interoperability if you remove the RREP_ACKs. Because otherwise both
> sides of the connection have to agree to a mechanism.
>
> Still, I don't like the idea of a routing protocol that says "it only
> supports bidirectional links" but does not make sure itself that it
> ignores links that are not.

============================================================================

On 5/29/2014 6:05 AM, Lotte Steenbrink wrote:
> Hello Yuichi,
> Am 28.05.2014 um 21:03 schrieb Yuichi IGARASHI <yuichi.igarashi.hb@hitachi.com>:

>> It says in sec.4 that "AODVv2 only supports bidirectional links”. But,
>> if you remove RREP_ACK from the spec, how does AODVv2 itself ensure all
>> links are bi-directional? 

> AODVv2 proposes the inclusion of an AckReq TLV to ensure bidirectional
> connectivity. My point was that, given the existence of this AckReq
> mechanism, the additional inclusion of RREP_ACK seems redundant.

============================================================================

On 5/29/2014 6:43 AM, Thomas Heide Clausen wrote:
> It would be interesting to understand why AckReq was included in the first
> place - given that that seems redundant with the well-known rrep_ack
> mechanism, and given that (it seems to me) that there are potential huge
> downsides to AckReq. 

============================================================================

On 5/29/2014 8:15 AM, Lotte Steenbrink wrote:

>> It would be interesting to understand why AckReq was included in the first
>> place - given that that seems redundant with the well-known rrep_ack
>> mechanism, and given that (it seems to me) that there are potential huge
>> downsides to AckReq. 

> Of course. I forgot to check whether my E-Mail client messed up the order
> of my mails again before I sent my reply, that's why my reply was a bit
> redundant. Sorry about that.
> The reason I opted for a removal of RREP_ACKs instead of AckReqs was that,
> to me, the description of RREP_ACKs in the AODVv2 draft seemed like an
> afterthought. Being somewhat new to the topic, I'm as familiar with RREP_ACKs
> as I am with AckReqs, with the difference being that I'd have no idea how
> to implement RREP_ACKs, at least not from the AODVV2 specification:
> How do I set the 'A' flag in RFC5444 RREPs correctly? One could assume that,
> because Section 5.2. demands that AckReqs should be requested by adding an
> appropriate message TLV, the same applies to RREP_ACKs, but that kind of
> guesswork could lead to interoperability issues.
> Why doesn't the draft remind me that (and how) a RREP "with the 'A' flag
> set" should be handled? Why doesn't it remind me that (and how) a RREP_ACK
> should be handled?
> Using other sources, i'd probably be able to cobble *something* together,
> but I'd guess that the probability that another programmer will come up
> with the same interpretation is not that high.
> So, what I was basically saying is just: Having two ways of ensuring
> bidirectionality is confusing (and maybe standing in the way of
> interoperability?), and one of the ways is confusing in itself, and I
> think that needs to be sorted out-- by ditching one of the approaches
> and being more specific in case RREP_ACKs are here to stay.

============================================================================

On 5/30/2014 7:56 PM, Charlie Perkins wrote:
>
> Hello Abdussalam,
> On 5/30/2014 3:08 PM, Abdussalam Baryun wrote:
>> I usually like to wait for authors defend, but I do defend.
>
> In most cases, I don't have much to defend.  I want to synthesize
> all constructive commentary and suggestions to make a satisfactory
> resolution.
>> I don't think removing them is required, IMHO each of the items have advantages to the protocol, I don't see what is the problem in them from reading this ticket 41, my reply below, 
>
> The case for removing RREP_ACK is to simplify the protocol.
>
> The case for including RREP_ACK is to have an AODVv2-specific
> mechanism and, along the way, to enable better compatibility
> with previous approaches.
>
> I do not have any strong preference.  So far, most people seem
> to want to keep RREP_ACK, so for the upcoming revision I will
> supply additional text as needed to clarify the specification.
>
> In *general*, I don't like having redundant mechanisms, because
> it's confusing to explain the differences, and it's more places to
> put bugs in the implementation and in the specification.  But that
> is a *general* guideline, and each case has to be judged on the
> claimed merits for the various approaches.
>
> A small bit of follow-up below...
>>
>> On Wednesday, May 28, 2014, Charlie Perkins wrote:
>>
>>
>>     I am O.K. with removing the RREP_ACK from the draft.  ...
>>
>> As RFC3561 has it this will need it as will.
>
> I don't agree that presence of a feature in RFC 3561 means that
> the feature has to be present also in AODVv2.
>>  
>>
>>
>>           While RFC 3561, which is referenced in section 13.5., explains that a
>>           RREP-ACK is sent when a packet with the 'A' bit set is received, the
>>           AODVv2 does not describe how a RREP_ACK is triggered.
>>
>> I agree that it needs to be added. 
>>  
>>
>>
>>           Additionally, the draft does not specify how a RREP_ACK should be handled.
>>
>> Same as to be from RFC3561.  
>>
>>           
>>
>
> Roughly speaking, RREP_ACK is a mechanism for managing the blacklist.
>
>
> Regards,
> Charlie P.

============================================================================

On 7/20/2014 10:44 PM, Charlie Perkins wrote:
>
> Hello Lotte and all,
>
> To review and summarize:
>
> The AckReq TLV is to be included with the RREP, in cases where the
> the node sending the RREP must ascertain that the intended receiver
> of the RREP will actually receive it.
>
> When a node receives an RREP that includes the AckReq TLV, then that
> node must send back a response.  The discussion has been about
> whether or not to mandate that the RREP_Ack is to be sent as that
> response.
>
> AckReq and RREP_Ack not technically required.  The nodes can verify
> bidirectionality in other ways.  Some layer 2 protocols provide
> bidirectionality.  Even for cases where a layer-3 solution is desired,
> additional AODVv2 protocol is not required.  Ping is a time-tested
> and well understood mechanism for verifying connectivity.
>
> Henning has suggested including and perhaps even mandating
> RREP_Ack to be used in preference to existing protocol mechanisms.
>
> For me, this is a minor issue.  It has been stated many times that
> AODVv2 should be a "lean" protocol, and that sentiment had led me
> to favor exclusion of RREP_Ack from the protocol.   I was later
> persuaded to include it as an optional feature.  I can be persuaded
> either way -- leaner versus more self-contained.  I do not really care.
> I feel that the "self-contained" argument is weak, because no
> protocol running on top of IP is self contained (by definition).
> But whether or not the argument is weak, if AODVv2 is considered
> to need this feature, I am happy to retain the specification for it,
> as well as supporting text for when it should be used.
>
> Another alternative would be to *mandate* the use of ping for
> this purpose.  To me it seems unwise to mandate ping when the
> link is known to be bidirectional (by way of any other mechanism,
> layer 2 or layer 3).  This is perhaps especially true because, when
> any mechanism (including Ping) would be mandated, is exactly
> the time when congestion on the wireless link should be avoided,
> and mandating unnecessary control traffic is often considered to
> be improper protocol design.
>
> But, to reiterate, the mandate can be included without serious
> problem other than additional code and some small percentage
> of increased congestion.
>
> In some previous messages, there was confusion between the
> AckReq TLV and the RREP_Ack response to that TLV.  I hope this
> long-ish message will erase this small bit of earlier confusion.

============================================================================

On 7/21/2014 1:42 PM, Lotte Steenbrink wrote:
> Hello Charlie,
> On 21 Jul 2014, at 07:44, Charlie Perkins <charles.perkins@earthlink.net>
> wrote:
    ........

>> AckReq and RREP_Ack not technically required.  The nodes can verify
>> bidirectionality in other ways.  Some layer 2 protocols provide
>> bidirectionality.  Even for cases where a layer-3 solution is desired,
>> additional AODVv2 protocol is not required.  Ping is a time-tested
>> and well understood mechanism for verifying connectivity.

> As far as I can recall, the argument was that this stands in the way of
> interoperability, which is why having a lowest common denominator makes
> sense. Also, it takes the burden of picking the right mechanism away from
> those who don't know exactly what they're doing (or leaves them a bit
> more time to think about it). As somebody who had to learn the hard way
> that using RFC 6775 is maybe not the best idea, I'd support the cause
> for *one* mandatory minimal solution.

===================== Next Issue from Issue Tracker ======================
[manet] #42: What happens if Active routes exceed RERR packet size?
==========================================================================

On 7/16/2014 10:11 AM, manet issue tracker wrote:
> #42: What happens if Active routes exceed RERR packet size?
>
>  Section 8.3.2. states that
>
>
>  {{{
>          After the Active Routes using
>          the broken link have all been included as UnreachableNodes, Idle
>          routes MAY also be included, if allowed by the setting of
>          ENABLE_IDLE_UNREACHABLE, as long as the packet size of the RERR
>          does not exceed the MTU (interface "Maximum Transfer Unit") of the
>          physical medium.
>  }}}
>
>
>  However, it is not specified what happens if the listing of all ''Active''
>  routes already exceeds the packet size. In a large-scale network using
>  IEEE 802.15.4., this is not unlikely to happen, and I think it should be
>  defined how to handle this situation.

============================================================================

On 7/20/2014 9:08 PM, Charlie Perkins wrote:
>
> Hello Lotte,
>
> I can indeed imagine it happening, but I am not sure what the
> proper resolution should be.  While it is true that many routes
> *might* be active in a large network, I suspect that the problem
> would only arise in a few nodes that are situated as the main
> point of connectivity between two subgraphs.
>
> Anyway, the problem needs a solution.  It seems that the active
> routes SHOULD be reported as broken, and that the order of
> reporting SHOULD be in order of time of use.  I don't think the
> ordering should be mandated, because some implementations
> might not want to do the extra code, and it wouldn't affect
> interoperability.  Performance might be adversely affected in
> the rare cases where there are many active routes in service.
>
> A node would report the overflow active routes by creating
> another RERR message and putting in as many active routes
> as possible.
>
> If this is acceptable, I think it will be quite straightforward
> to revise the draft accordingly.  Maybe the text should go into
> a new subsection.

============================================================================

On 7/21/2014 1:14 PM, Lotte Steenbrink wrote:
> Hello Charlie,
>
> On 21 Jul 2014, at 06:08, Charlie Perkins <charles.perkins@earthlink.net> wrote:
>
>>
>> Hello Lotte,
>>
>> I can indeed imagine it happening, but I am not sure what the
>> proper resolution should be.  While it is true that many routes
>> *might* be active in a large network, I suspect that the problem
>> would only arise in a few nodes that are situated as the main
>> point of connectivity between two subgraphs.
>>
>> Anyway, the problem needs a solution.  It seems that the active
>> routes SHOULD be reported as broken, and that the order of
>> reporting SHOULD be in order of time of use.  I don't think the
>> ordering should be mandated, because some implementations
>> might not want to do the extra code, and it wouldn't affect
>> interoperability.  Performance might be adversely affected in
>> the rare cases where there are many active routes in service.
>>
>> A node would report the overflow active routes by creating
>> another RERR message and putting in as many active routes
>> as possible.
>>
>
> That sounds reasonable to me.
>
>> If this is acceptable, I think it will be quite straightforward
>> to revise the draft accordingly.  Maybe the text should go into
>> a new subsection.
>
> I'm not entirely sure that's necessary. I'd imagine something along the lines of this:
>
> For each such Active Route, Route.Dest is added to the set of 
> Unreachable Nodes. If the size of the set of Unreachable Nodes 
> exceeds the packet size of the RERR, additional RERR packets 
> are created until all Active broken routes have been reported. 
> The order of reporting SHOULD be in order of time of use. 
>
> After the Active Routes using the broken link have all been included 
> as UnreachableNodes, Idle routes MAY also be included, ... etc etc

===================== Next Issue from Issue Tracker ======================
[manet] #43: Reliance on bidirectional paths (submitted for Chris Dearlove)
==========================================================================

On 7/20/2014 8:37 PM, manet issue tracker wrote:
> #43: Reliance on bidirectional paths (submitted for Chris Dearlove)
>
>  The protocol relies on links being bidirectional. It must therefore
>  provide a means to ensue that. It's not good enough to list several
>  possibilities - that will not offer interoperability. It is fine of course
>  to offer allowing additional reasons to exclude links, but there needs to
>  be a basic non-optional mechanism for something that the protocol will not
>  work without.

============================================================================

On 7/20/2014 9:12 PM, Charles E. Perkins wrote:
>
> Hello Chris,
>
> Perhaps it would be better to identify the proper protocol method as
> part of the applicability statement.  If no other means are available, then
> AODVv2 nodes could be required to use the blacklist mechanism, which
> is intended to provide bidirectionality.
>
> It seems unwise to require additional protocol mechanisms for cases
> in which layer 2 already guarantees bidirectional links.  This could also
> be included as a statement within the applicability section.

============================================================================

On 7/22/2014 5:30 AM, Dearlove, Christopher (UK) wrote:
> The key thing is that two independent implementations need to interoperate
> and not use unidirectional links. At the moment that wouldn't happen.

============================================================================

On 9/10/2014 5:54 AM, Abdussalam Baryun wrote:
> I don't believe AODV only supports bidirectional, there are many work out
> IETF done for that. I think there can be ways to make AODVv2 support
> unidirectional paths as well. As links in MANET can be unidirectional and/or
> bidirectional. For example, the RREQ message MUST indicate which type of
> route communication it is requesting: bidirectional paths or unidirectional
> paths or mix (what does authors/WG think?). We may need to update RFC6130
> for AODVv2 as well as done for OLSRv2. 

============================================================================

On 9/10/2014 6:20 AM, Thomas Clausen wrote:
> On Sep 10, 2014, at 14:54, Abdussalam Baryun <abdussalambaryun@gmail.com> wrote:
>> I don't believe AODV only supports bidirectional, there are many work out IETF done for that. 
> Right now, this protocol does not specify proper behavior in case links
> are not bidirectional. It does hand-waving of the “can do this, can do that,
> or can do the other thing, or can think of something else entirely”, but
> does not specify *one* way — which means that two implementations may do
> different, and non-interoperable, things.

============================================================================

On 9/10/2014 6:25 AM, Christopher Dearlove wrote:
> First, no, nothing you have said is in any way an argument to update 6130 (NHDP), except of course that any protocol may define new TLVs to carry when used together with NHDP. But it's not obvious what that would be - NHDP already collects unidirectional information (at the receiver end of course). I'll take that up after my second point.
> Second, AODVv2 needs to either support or not support unidirectional links. If it supports them, it needs to define how. If it doesn't support them it needs to have a defined interoperable mechanism to do so.
> And that's where to start. What is required. Then how to do it, including what information is needed. At the abstract level. Then you can start thinking about whether you can do that using NHDP, within existing AODVv2 messages, with new messages, etc. "We need to update 6130" isn't where to start, it's not even step two.
> And there is an issue with using NHDP. It would convert AODVv2 from a reactive protocol to a hybrid one. Some of the reasons that a reactive protocol may be of interest are based on no transmissions with no data. Removing that as even an option would make the protocol less applicable. Of course I have no problem with using NHDP as an option. But the sort of option I'd want to see is one where if some routers decide to send HELLO messages and some don't then the network still works at least as well as if none did. Which should be to find routes where they are findable (maybe only using bidirectional links) and not to fail because some links are unidirectional.
> (How can that be done? No, I don't have a design. I just have a requirement. Actually, summarising what the WG's reactive protocol requirements are more precisely wouldn't be a bad, probably overdue, idea. I'm not suggesting a full blown draft - though one would be really good - but just basic bullet points. To address issues like unidirectional links and pure/hybrid reactiveness. And what else? Note that my unidirectional link requirements would be: must function interoperably when some links are unidirectional, but using those unidirectional links, optional. The latter can definitely be debated. The former is necessary.)

============================================================================

On 9/10/2014 2:44 PM, Charles E. Perkins wrote:
>
> Hello Abdussalam,
>
> The usual way for reactive protocols to offer operation
> over unidirectional links is to have the RREP broadcast in
> addition to broadcasting the RREQ.  That's an awfully
> expensive operation to require when nodes already have
> bidirectional links to their neighbors.  However, broadcast
> RREP could be optional (and wouldn't affect interoperability
> for bidirectional links, except for congestion).
>
> Right now the document specifies a method for detecting
> and avoiding unidirectional links, and I believe that is
> appropriate for the current standard.
>
> The idea of adding a bit to RREQ to request broadcast RREP
> would work, and can easily be specified if approved by the
> WG members.  It would probably affect only a remarkably
> few lines of actual text in the document, and since the
> mechanism has been studied quite a few times in the past
> the results can be considered somewhat predictable.  But,
> again, the extra congestion is a high price to pay unless it is
> really needed to find unidirectional links -- which, by the
> way, are likely to be more fragile as well.

============================================================================

On 9/10/2014 3:31 PM, Abdussalam Baryun wrote:
> I agree of expensive broadcast or multicast for RREP. However, The draft mentions multicast RREP for the unidirectional issue, so do you mean to remove that part. The way to configure that option in 13.4 is not clear. 

============================================================================

On 9/11/2014 3:10 AM, John Dowdell wrote:
> Abdussalam
>
> I have already spotted that one in my review and it has been discussed within the author team. But thanks anyway.
>
> John
> On 10/09/14 21:50, Abdussalam Baryun wrote:
>>
>>
>> On Tuesday, July 22, 2014, Dearlove, Christopher (UK) wrote:
>>
>>     The key thing is that two independent implementations need to interoperate and not use unidirectional links. At the moment that wouldn't happen.
>>
>> In draft's applicability statement: 
>> ---- OLD EDIT-----
>> AODVv2 only supports bidirectional links.  In the case of possible unidirectional links, either blacklists (see Section 5.2) or other means (e.g. adjacency establishment with only neighboring routers that have bidirectional communication as indicated by NHDP [RFC6130]) of assuring and monitoring bidirectionality are recommended. Otherwise, persistent packet loss or persistent protocol failures could occur.  The cost of bidirectional link L (denoted Cost(L)) may depend upon the direction across the link for which the cost is measured.  If received over a link!
>>   that is 
>>  u
>> nidirectional, metric information from incoming AODVv2 messages SHOULD NOT be used for route table updates.
>> ---- NEW EDIT ----- 
>> AODVv2 only supports bidirectional links.  In the case of possible unidirectional links, the protocol MUST use blacklists (see Section 5.2), otherwise may use means (e.g. adjacency establishment with only neighboring routers that have bidirectional communication as indicated by NHDP [RFC6130]) of assuring and monitoring bidirectionality are recommended. Otherwise, persistent packet loss or persistent protocol failures could occur.  
>> -------------
>> Move the below text to another suitable section which I recommend section 5.2. 
>> {{{
>> The cost of bidirectional link L (denoted Cost(L)) may depend upon the direction across the link for which the cost is measured.  If received over a link that is unidirectional, metric information from incoming AODVv2 messages SHOULD NOT be used for route table updates.
>> }}}
>>
>> AB

============================================================================

On 9/11/2014 6:01 AM, Abdussalam Baryun wrote:
> Hi John,
> I believe its WG work not author team work. My edit below was documented in IETF for WG and is before WG editors action, because authors done their discussion outside IETF. I will continue help the WG in this draft as it's our work together and to making action per ticket for progress. So I understand that authors agree with my edits action. 

============================================================================

On 9/12/2014 3:29 AM, John Dowdell wrote:
> Abdussalam
>
> Actually this is a topic that is still under discussion in the author team.
> The problem can be looked at from a number of different viewpoints.
> I proposed something similar to your edit and then something I had not
> thought of was pointed out to me by one of the other authors. I do not
> believe it is appropriate to share the raw work in progress with the WG
> if the authors do not yet have a common understanding.
>
> On a similar note, as I posted yesterday, the document is large and I
> am having a hard time working through it all. I will defend your right
> to make suggestions and propose edits, since that is after all what the
> IETF is about, but given that there are some bigger topics I want to get
> straight in my own head, please excuse me for not including this topic
> at the moment. I will come back to it, but there are bigger issues right now.

===================== Next Issue from Issue Tracker ======================
[manet] #44: Hop count (submitted for Chris Dearlove)
==========================================================================

On 7/20/2014 8:38 PM, manet issue tracker wrote:
> #44: Hop count (submitted for Chris Dearlove)
>
>  Despite saying that hop count is inadequate, it's the only metric
>  supported. And unlike OLSRv2, which is designed so that the protocol
>  can handle any future metric without change, that's not true here.
>  That's a definite protocol weakness.

============================================================================

On 7/20/2014 9:16 PM, Charles E. Perkins wrote:

> I do not understand why you make the claim that AODVv2 cannot
> handle future metric changes.  If nodes wish to use alternate metrics,
> the current draft specifies mechanisms to insure that routes will
> be selected based on the costs associated to those routes as
> computed by the alternate metric.  If this is not true, could you
> be more specific about how the intended mechanisms fail to do so?

============================================================================

On 7/22/2014 5:31 AM, Dearlove, Christopher (UK) wrote:
> You need to change the implementation to handle a new metric type, I'm
> afraid I don't have the time this minute to check the function name that
> needs implementing - and is only specified for hop count. A new metric
> needs a new specification and implementation of that function.

============================================================================

On 7/22/2014 5:42 AM, Henning Rogge wrote:
> On Tue, Jul 22, 2014 at 2:31 PM, Dearlove, Christopher (UK)
> <chris.dearlove@baesystems.com> wrote:
>> You need to change the implementation to handle a new metric type, I'm
>> afraid I don't have the time this minute to check the function name that
>> needs implementing - and is only specified for hop count. A new metric
>> needs a new specification and implementation of that function.

> I think you also need to work out a custom encoding/decoding for the
> TLV value because there is no definition of a generic transport format
> for the metric.

===================== Next Issue from Issue Tracker ======================
[manet] #45: RFC 5498 non-compliance (submitted for Chris Dearlove)
==========================================================================

On 7/20/2014 8:40 PM, manet issue tracker wrote:
> #45: RFC 5498 non-compliance (submitted for Chris Dearlove)
>
>  The document is completely noncompliant with the RFC 5444 multiplexing
>  mechanism, mandated by RFC 5498 (on the manet port/protocol). It does
>  many things that are not within its competence.

============================================================================

On 7/20/2014 9:32 PM, Charles E. Perkins wrote:

> The document states:
>>    In its default mode of operation, AODVv2 sends messages using the
>>    parameters for port number and IP protocol specified in [RFC5498] to
>>    carry protocol packets.  By default, AODVv2 messages are sent with
>>    the IP destination address set to the link-local multicast address
>>    LL-MANET-Routers [RFC5498] unless otherwise specified. Therefore,
>>    all AODVv2 routers MUST subscribe to LL-MANET-Routers [RFC5498] to
>>    receiving AODVv2 messages. 
>
> So, I suspect the problem lies elsewhere.  Could you point to the
> noncompliant part of the AODVv2 specification, and the protocol
> mandate for which the AODVv2 specification is noncompliant? 

============================================================================

On 7/22/2014 4:02 AM, Abdussalam Baryun wrote:
> IMHO The problem is that RFC5444 still does not have a multiplexing standard in IETF. The way of multiplexing is still just implemented by OLSRv2 experts but I dont find any standard for multiplexing yet. The RFC5498 is not for multipexing as I understand it. We already discussed once that multiplexing is not specified for all RFC5444 formats because it is general format but RFC5498 is not general.
>  
> If I am wrong please point me to an RFC.

============================================================================

On 7/22/2014 5:34 AM, Dearlove, Christopher (UK) wrote:
> The quoted text is irrelevant to this point.
>
> As has been said many times, packets belong to the multiplexer, messages
> to the protocol. There are many pieces of text specifying things about
> packets that are out of the competence of the protocol. I'm afraid I
> stopped marking them on my copy.

============================================================================

On 7/22/2014 6:08 AM, Thomas Heide Clausen wrote:
> I am still, with reference to this document, dismayed to see that there
> remain abundant references to positional information in address blocks
> in RFC5444 messages. 
> As has been pointed out numerous times, this is inappropriate, positional
> information cannot be assumed assured and preserved by generic 5444 message
> generation and parsing code. The first instance of this offense is in Table 1 ...

============================================================================

On 7/22/2014 6:45 AM, Dearlove, Christopher (UK) wrote:
>
> Actually, I think there has been some improvement here, but could be
> improved further. This is at the level of comment I didn’t attempt to make,
> I concentrated on what I considered the most major issues.
>
>  
>
> IIRC, two TLVs are suggested, one to say “this is A”, one to say “this is B”.
> It’s assumed there are two addresses, and the one that’s not A is B, and
> vice versal.
>
> Better is to have a single TLV with a  value for A or B. Why? First, it
> avoids wasting a TLV code point. Second, you can flag A and B with a single
> multivalue TLV more efficiently than marking A and B. And it’s a good idea
> to mark A and B, because that way you can add additional addresses in an
> extension, without introducing any problems as to which is A or B with a
> single TLV. In addition, the practice we introduced in TLV extensions of
> having a null value (255 UNSPECIFIED is what we used) can help there as well.
>
> One of those things the authors of 5444 etc. would like to do – when they can
> find some extra hours in a week – is to set out this sort of good practice
> for 5444 that has been found to be valuable. In this case we have the two
> principles of (a) always attack a TLV to indicate information, as just doing
> so from a non-TLVed address precludes various extensions, and (b) when
> attaching information, null values are good – T:LV extensions discusses why, a
> lot comes down to that you can’t order for more than one or two TLVs at once.

============================================================================

On 9/8/2014 6:47 AM, Abdussalam Baryun wrote:
>> On Mon, Jul 21, 2014 at 5:40 AM, manet issue tracker
>> <trac+manet@trac.tools.ietf.org<mailto:trac+manet@trac.tools.ietf.org>>
>> wrote:
>> #45: RFC 5498 non-compliance (submitted for Chris Dearlove)
>>
>>  The document is completely noncompliant with the RFC 5444 multiplexing
>>  mechanism, mandated by RFC 5498 (on the manet port/protocol). It does
>>  many things that are not within its competence.
>>
> On 7/21/14, Charles E. Perkins <charliep@computer.org> wrote:
>>
>> Hello Chris,
>>
>> The document states:
>>
>>>    In its default mode of operation, AODVv2 sends messages using the
>>>    parameters for port number and IP protocol specified in [RFC5498] to
>>>    carry protocol packets.  By default, AODVv2 messages are sent with
>>>    the IP destination address set to the link-local multicast address
>>>    LL-MANET-Routers [RFC5498] unless otherwise specified. Therefore,
>>>    all AODVv2 routers MUST subscribe to LL-MANET-Routers [RFC5498] to
>>>    receiving AODVv2 messages.
>>
>> So, I suspect the problem lies elsewhere.  Could you point to the
>> noncompliant part of the AODVv2 specification, and the protocol
>> mandate for which the AODVv2 specification is noncompliant?
>>
>
> On 7/22/14, Dearlove, Christopher (UK) <chris.dearlove@baesystems.com> wrote:
>> The quoted text is irrelevant to this point.
>>
>> As has been said many times, packets belong to the multiplexer, messages to
>> the protocol. There are many pieces of text specifying things about packets
>> that are out of the competence of the protocol. I'm afraid I stopped marking
>> them on my copy.
>>
>> (For exactly how the protocol can interact with packets, see 5444.)
>>
>
>
> I don't think packets should only blong to multiplexer/parsers.
> 5444-Packets COULD be generated by protocols not only multiplexer.
> IMHO, There is no specification that states that 5444-packets are
> generated only by parsers/multiplexer (If I am wrong please point to
> it). The RFC5444-packet is for the protocol-designer to define not the
> parser-designer. The parser-designer needs to follow the
> protocol-designer. You cannot force a router vendor to not define its
> own 5444-packets for its routing protocol. I remember that within the
> Packet-bb submission (now is RFC5444) there was a discussion between
> Teco and Thomas that there are many issues related to parsing and
> multiplexing that this RFC5444/Packet-bb-draft does not specify and
> did not solve. This issue needs more discussion in the WG, because I
> don't find consensus on the issue.
>
> On 7/22/14, Dearlove, Christopher (UK) <chris.dearlove@baesystems.com> wrote:
>> RFC5444 describes a multiplexing process. It is not required purely in its
>> own terms.
>
> Yes it is not required because RFC5444 is just format standard,
> RFC5444 is not parsing standard, RFC5444 is not a packet-multiplex
> standard. The multiplex in just explained in appendix which is not
> normative, and IMHO the WG did not agree on specific multiplexing
> standard. One participant yesterday mentioned the multiplex as in that
> Appendix is a MUST, which I disagree.
>
>> But RFC 5498 make it mandatory for any protocol using the
>> port/protocol allocated by that RFC. And the WG has agreed that all routing
>> protocols developed have to be able (at least) to use that port/protocol.
>
> RFC5498 is for one one RFC5444 packet, please note that RFC5444 is a
> general packet format, protocols can define their own
> packets/messages. I understand that you suggest unifying the packet
> for all MANET protocols but that is not specified in RFC5444. RFC5444
> already states clearly that packets/messages are formated but parsing
> is general-logic and independent from protocol. In IETF 5444 parsing
> is not specified yet, just logic. see below:
>
>
> {{{
>
> The specification has been explicitly designed with the following
> properties, listed in no particular order, in mind:
>
> Parsing logic - The notation used in this specification facilitates
> generic, protocol-independent parsing logic.
>
> Extensibility - Packets and messages defined by a protocol using
> this specification are extensible by defining new messages and new
> TLVs. Protocols using this specification will be able to
> correctly identify and skip such new messages and TLVs, while
> correctly parsing the remainder of the packet and message.
>
> }}}
>
> It does not state unify parsing as general but just general parsing to
> be independent, so we design AODVv2 independently from parsing and
> even independent of multiplexing packets.
>
> I suggest we work on this draft AODVv2 independently from
> parsing/multiplexing as the RFC5444 suggested which AODVv2 uses
> correctly so far by my understandning and no much answers received for
> editor questions related to the draft.

============================================================================

On 9/8/2014 8:26 AM, Christopher Dearlove wrote:
> Really, I'm not wading through all that, as it becomes apparent early on that it misses the whole point.
> - 5444 defines a packet/message format,
> - 5444 defines how that can be used by a multiplexer. Yes, at this point that's optional.
> - 5498 makes use of that multiplexing approach mandatory on the manet protocol/port.
> - The WG (in agreement with ADs etc.) has decided that MANET routing protocols it designs are to use the manet protocol/port.
>
> Put all that together, and you have the state of play. Doesn't matter if you don't think that's so or not. It is.
>
> Of course anyone can use 5444 for some other purpose. Various options here. But none what's being discussed.
>
> As for AODVv2 being noncompliant with 5444/5498, yes it is. It simple terms, packets belong to the multiplexer, messages belong to a protocol. So AODVv2 can define messages. It doesn't define packets. It can (and this is specified) get read access to the packet header, and (also specified) provide TLVs for the packet header as well as providing messages for packets. But that's not what's done either.

============================================================================

On 9/8/2014 9:19 AM, John Dowdell wrote:
> All
>
> As part of ongoing author work on AODVv2, I am looking at the relationship between RFC5444 and AODVv2 right now. Hopefully we will have some material to discuss at the next meeting. In the meantime, constructive advice is welcome, both on and off-list. 

============================================================================

On 9/8/2014 10:34 AM, Charlie Perkins wrote:

> To my understanding, AODVv2 does indeed specify messages, not packets.
> A long time ago, we had the luxury of sending packets, but for quite a while
> now the AODVv2 specification has been rewritten to specify the messages
> instead.  We will be happy to fix language in the specification remaining that
> might be confusing.
>
> A new revision should be out before long.  But if you want to check
> the current version for this point, any constructive suggestions will be
> appreciated. 

============================================================================

On 9/8/2014 11:19 AM, Charlie Perkins wrote:

> I don't think that RFC 5444 procludes AODVv2
> from specifying adherence to RFC 5082, if that was
> the intention of your remark...

============================================================================

On 9/8/2014 11:57 AM, Christopher Dearlove wrote:
> Actually, it was. AODVv2 can't adhere to RFC 5082. It has to be the 5444 multiplexer that does or doesn't adhere to it. It's probably not specified whether it does or not (it certainly isn't specified that it does., It might say TTL = 1, I don't recall right now,
>
> There are then choices:
> - Write something new to mandate all implementations of the 5444 multiplexer to adhere to 5082. I would be strongly against that.
> - Put a recommendation (i.e. a should) into AODVv2 that the 5444 multiplexer it uses should adhere to 5082. Not my first choice.
> - Put a requirement (i.e a must) into AODVv22 that the 5444 multiplexer it uses must adhere to 5082. I would be strongly against that too.
> - Leave it up to whoever implements the 5444 multiplexer, which already is required to fulfil the key requirement here (that packets only travel one logical hop - but physical hops?)
>
> Te question is, why is AODVv2 any more needing of this than anything else? If it's not, then the issue definitely becomes one of point 4.
>
> Now providing advice about the 5444 multiplexer, including any reference to 5082, is really the job of another document on broader 5444 advice. One that is bubbling up the 5444 authors' (at least) priority list. I don't have a position currently on what emphasis should be put on 5082 in such a document, and I don't know anyone else's views on that matter either.

============================================================================

On 9/8/2014 1:21 PM, Charlie Perkins wrote:

> In general, if a routing protocol cannot specify TTL=255,
> then something is definitely broken.  Message bundling
> is not a good enough excuse for disabling this function.
>
> AODVv2 specifically does need the functionality, and so
> the general statement does have a relevant specific
> example. 

============================================================================

On 9/8/2014 1:58 PM, Christopher Dearlove wrote:
> Why does AODVv2 need this functionality any more than, say, NHDP, OLSRv2 or SMF? 5444 packets are meant to travel only one hop, it's part of the multiplexer design. If 5082 helps ensure this, this is something to apply at that level. This is not and cannot be an AODVv2 function, because AODVv2 isn't in change of packets.

============================================================================

On 9/8/2014 2:18 PM, Charlie Perkins wrote:

> AODVv2 needs the functionality because it relies on
> reverse path forwarding.
>
> AODVv2 should be able to control the dissemination of
> AODVv2 messages, and since AODVv2 messages are contained
> in packets, then it seems that AODVv2 ought to be able to
> specify how packets containing AODVv2 messages are to
> be disseminated. 

============================================================================

On 9/8/2014 2:59 PM, Christopher Dearlove wrote:
> This is no different to NHDP's requirements (which may use the IP packet source address). It is, as I have said, a 5444 multiplexing issue.
>
> It does, I agree open up the question as to what one logical hop means precisely. Right now I forget why that distinction was put in 5444, I think was a requirement from outside the authors.
>
> But this is not specific to AODVv2, nor does it make 5082 mandatory, that's just one way to achieve this. And it's just not acceptable for AODVv2 to attempt to control packets, because what if another protocol tries doing the same, inconsistently.
>
> Rather the starting point should be what are the actual requirements (which are as you note about the properties that make reverse path forwarding working).

============================================================================

On 9/8/2014 6:36 PM, Abdussalam Baryun wrote:
> Just my last comment in this ticket. 
>
> On Monday, September 8, 2014, Christopher Dearlove wrote:
>
>     Really, I'm not wading through all that, as it becomes apparent early on that it misses the whole point.
>     - 5444 defines a packet/message format,
>     - 5444 defines how that can be used by a multiplexer. Yes, at this point that's optional.
>     - 5498 makes use of that multiplexing approach mandatory on the manet protocol/port.
>
>  
> 5498 does not specify for information-multiplexers but it specifies for routing-protocols. Those allocations are owned by the routing protocols not by the multiplexers. However, if we consider a use case of many routing protocols sharing the MANET, then we must have unified multiplexer using that allocated  port as 5498 state for routing. 
> RFC5498 can have an update to add another port with same ip number for other purposes that mentions multiplexers use. 

============================================================================

On 9/8/2014 6:51 PM, Justin Dean wrote:
> I think that some of us are missing the forest while looking at the trees. The reasons for RFC5498 multiplexing requirement IS important and we should just go opening up/asking for new ports.  One of the reasons it's there is that so multiple different MANET protocols can work with each other with minimal issues.  We do this already with NHDP and OLSRv2 and NHDP and SMF TLV extensions and it's a very good thing. 
>
> The root of the issue is assigning semantics to the order of the addresses which AODVv2 currently does and in doing so breaks multiplexer implementations (mine included) the work around of throwing out the multiplexer to get around this is wrongheaded as there are also very good reasons (one of which Henning pointed out, future proofing by containing information within tlvs and not by position); Other reasons include, multiplexer reuse which enables both multi-protocol packaging (fewer packets), code reuse (minor), packet compression in the address blocks (potential large gain), and packet compression in the TLV space (also potential large gain). 
>
> We (read MANET wg) came up with these requirements for very specific reasons and at this point I see no reason let alone any compelling reason to ignore or work around them.  If AODVv2 can get this right and abide by the MANET design requirements it will in fact be a better protocol for it; these aren't trivial meaningless requirements.

============================================================================

On 9/8/2014 9:33 PM, Henning Rogge wrote:
> On Mon, Sep 8, 2014 at 11:18 PM, Charlie Perkins
> <charles.perkins@earthlink.net> wrote:
>> Hello Chris,
>>
>> AODVv2 needs the functionality because it relies on
>> reverse path forwarding.
>
> So you would say AODVv2 cannot work without the IP-TTL=255 setting? I
> would disagree. IP-TTL=1 and/or a linklocal multicast address work
> similarly.
>
> I think the IP-TTL=255 is an optional "security feature" on RFC5444
> packet level, trying to make it harder for computers more than one hop
> away to deliver an IP packet (not impossible, there might be tricks
> with IPIP tunnels that work). If this is true, it might fit into a
> 'security considerations' section or the document, or even better put
> into a "RFC5444 packet security" draft" of its own, that describes
> best practices and possible options how to handle the packet output of
> the multiplexer for all protocols using RFC5444.

============================================================================

On 9/8/2014 10:41 PM, Charlie Perkins wrote:

> I didn't say it could not work without TTL=255.  Of course it can.
> It could work if there is a constraint that the number of bytes in
> any message must be a factor of 7.  It could work if there is a constraint
> that there must be no more than 295 bits set to a value of '1'.
>
> However, I think it is pretty bad when a message bundling system
> imposes these collateral constraints.  I reckon it was another
> unintended consequence.
>
> There's nothing wrong with attempting to use multiple security
> measures.  As far as I know, it's usually considered praiseworthy.

============================================================================

On 9/8/2014 10:52 PM, Henning Rogge wrote:
> On Tue, Sep 9, 2014 at 7:41 AM, Charlie Perkins
> <charles.perkins@earthlink.net> wrote:
>>
>> Hello Henning,
>>
>> I didn't say it could not work without TTL=255.
>
> Good.
>
> (skipping the rest of the paragraph)
>
>> However, I think it is pretty bad when a message bundling system
>> imposes these collateral constraints.  I reckon it was another
>> unintended consequence.
>
> requiring a certain IP-TTL is a constraint too.
>
>> There's nothing wrong with attempting to use multiple security
>> measures.  As far as I know, it's usually considered praiseworthy.
>
> Its a BAD thing to make one weak security option mandatory as part of
> the core protocol.
>
> I don't see any real advantage of this TTL-magic, other then preparing
> for a mesh node malfunctioning. Its strange on IPv4 and its even silly
> on IPv6 where we have recognizable linklocal multicast addresses (the
> LL_MANET multicast address is one of them). If you expect your
> neighbor mesh nodes forwarding linklocal multicast traffic you have
> other problems than looking at the TTL field.
>
> Either put it into the "security considerations" as one option to do
> it or write (as most other protocols of this WG) a security
> considerations draft, either on protocol level or on RFC5444 packet
> level.

============================================================================

On 9/8/2014 11:29 PM, Christopher Dearlove wrote:
> And no one has said its a bad idea to use 5082 (though it's not the only option). Just that it's a 5444 multiplexer level decision, not an AODVv2 level decision.

============================================================================

On 9/10/2014 4:15 PM, Charlie Perkins wrote:
>
> Hello Henning,
>
> On 9/8/2014 10:52 PM, Henning Rogge wrote:
>>> However, I think it is pretty bad when a message bundling system
>>> imposes these collateral constraints.  I reckon it was another
>>> unintended consequence. 
>> requiring a certain IP-TTL is a constraint too. 
>
> This is mixing apples and oranges.
>
> A *particular* routing protocol may well need be able to deal with
> such matters.
>
> An over-arching message-bundling protocol should never take
> the permanent step of preventing all future routing protocols from
> dealing with such matters. 

============================================================================

On 9/10/2014 4:53 PM, Christopher Dearlove wrote:
> Now it depends who "I" is. If "I" is the overall system design you can do it as part of that. If "I" is AODVv2, you don't. It's not within an individual routing protocol's competence. Like many other things.

============================================================================

On 9/10/2014 10:24 PM, Henning Rogge wrote:
> On Thu, Sep 11, 2014 at 1:17 AM, Charlie Perkins
> <charles.perkins@earthlink.net> wrote:
>>
>> Hello Chris,
>>
>> That's fine with me.  How do I instruct RFC 5444 to set TTL==255?
>
> On protocol level? Put it into the right document (e.g. the "rfc5444
> security practices" or whatever).
>
> On implementation level? Just as you do now, just a line of code in
> the right place.
>
> Would be the "use IP-TTL 255 as an additional security measurement"
> part of the AODVv2 protocol? No, because the protocol should only deal
> with the messages so its easy to mix with the other protocols using
> RFC5444 (e.g. NHDP for proactive neighborhood discovery and detection
> of symmetric links). But of course it would be part of some (maybe not
> all) AODVv2 implementations (some might implement other security
> measurements).

============================================================================

On 9/11/2014 2:57 AM, Abdussalam Baryun wrote:
>
>
> On Thursday, September 11, 2014, Henning Rogge wrote:
>
>     On Thu, Sep 11, 2014 at 1:17 AM, Charlie Perkins
>     <charles.perkins@earthlink.net> wrote:
>     >
>     > Hello Chris,
>     >
>     > That's fine with me.  How do I instruct RFC 5444 to set TTL==255?
>
>     On protocol level? Put it into the right document (e.g. the "rfc5444
>     security practices" or whatever).
>
>     On implementation level? Just as you do now, just a line of code in
>     the right place.
>
> For interoperability purposes the right place is within AODVv2 implementation. For independent purposes the right place is AODVv2. Chris answered it as part of overall-system but still no definition for that as IETF standard, so does that mean writing another draft to update the system. 
>  
>
>
>     Would be the "use IP-TTL 255 as an additional security measurement"
>     part of the AODVv2 protocol? No, because the protocol should only deal
>     with the messages so its easy to mix with the other protocols using
>     RFC5444 (e.g. NHDP for proactive neighborhood discovery and detection
>     of symmetric links). 
>
> Those protocols can be updated for AODVv2 functions. Those protocols are servants to routing protocols so they should follow. 
>  
>
>     But of course it would be part of some (maybe not
>     all) AODVv2 implementations (some might implement other security
>     measurements).
>
> So do you agree the right place is AODVv2. Overall, this design problem is because the WG wrongly decided to design the packet before the functions and to make routing functions serve RFC5444 within a unified multiplex method. 

============================================================================

On 9/11/2014 3:21 AM, Henning Rogge wrote:
> On Thu, Sep 11, 2014 at 11:57 AM, Abdussalam Baryun
> <abdussalambaryun@gmail.com> wrote:
>> So do you agree the right place is AODVv2.
>
> No, I do NOT.
>
> Maybe you should try to read and understand my mail.
>
> As I said, on protocol level (which means the RFCs defining the
> protocol) the AODVv2 document is NOT the right place for this.
>
> As for implementations... ALL routing protocol implementations are
> drawing from multiple documents to do their job.
>
>> Overall, this design problem is
>> because the WG wrongly decided to design the packet before the functions and
>> to make routing functions serve RFC5444 within a unified multiplex method.
>
> The problem is that you just don't understand whats the reason behind
> the document split.
>
> In fact it would have been even better if the MPR handling woud also
> have been split into its own document so it can be reused easier
> without referring to the OLSRv2 RFC. Its works the way it is, but
> splitting it would have been more elegant (but it would have delayed
> OLSRv2 even more).

============================================================================

On 9/11/2014 4:12 AM, Christopher Dearlove wrote:
> Henning has addressed the other issues. I'll mention one.
>
> On 11 Sep 2014, at 11:21, Henning Rogge wrote:
>> In fact it would have been even better if the MPR handling woud also
>> have been split into its own document so it can be reused easier
>> without referring to the OLSRv2 RFC. Its works the way it is, but
>> splitting it would have been more elegant (but it would have delayed
>> OLSRv2 even more).
>
> Completely agree. And in fact that's not the only thing I (we I believe) would have split out in an ideal world. Next on my list would be the processing and forwarding mechanism in OLSRv2 that is designed for use by message types other than just TC messages.
>
> But we were delayed enough as it was.

============================================================================

On 9/11/2014 2:15 PM, Charlie Perkins wrote:
>
> Hello Chris,
>
> I really think you are putting this in the wrong context.
>
> To wit, it's not just AODVv2.  It's *all future protocols*.
>
> Plus, I think I could easily make the argument that NHDP
> *should* specify TTL=255.  But that is *not* my problem,
> and I am not expecting to argue about it.
>
> Furthermore, as noted previously, there is no place that
> I noticed in RFC 5444 prohibiting routing protocols from
> specifying TTL=255, and it remains mysterious to me why
> a message bundling protocol would be specified in such
> a way to have that effect.
>
> But, and this is important, I am *not* trying to avoid
> conformance to RFC 5444.  It's just that there have been
> several times when behavior not explicitly specified within
> the RFC 5444 document turns out to not conform to other
> unstated assumptions that were made by the authors of
> RFC 5444.
>
> So I think your characterization:
>                "always one step forward and two back on AODVv2"
> is simply wrong, and not constructive.  If anything, I think
> the discussion has been useful in terms of how well RFC 5444
> serves the needs of protocol designers who are not faced with
> the burden of compressing dozens or hundreds of addresses.

============================================================================

On 9/11/2014 3:56 PM, Stan Ratliff (sratliff) wrote:
> All, 
>
> As I posted on the MANET list - I think that the AODVv2 spec has to move on, knowing that setting TTL=255 isn't available to an RFC5444-compliant protocol. C'est la vie. It's a different discussion as to whether this type of functionality *should* be available to MANET-developed protocols, and what ramifications that would have to the split protocol/parser architecture that 5444 implies (if not specifies outright). And just FWIW, it is that very implicit architecture that causes the lingering twinge of bad taste in my mouth over 5444. Communications protocols are supposed to be just that - Communications Protocols. They aren't supposed to force architectural and design decisions like process boundary splits, etc. This is just one individual opinion, and I'm speaking just as an interested engineer (and most definitely NOT as a co-chair). But there it is.
>
> That said, I'm the first to acknowledge that RFC 5444 is what it is. Time to abandon any AODVv2 reliance on setting TTL=255, and move on down the road. 

============================================================================

On 9/12/2014 7:44 AM, Stan Ratliff (sratliff) wrote <in PRIVATE email>:

> On Sep 12, 2014, at 12:42 AM, Charlie Perkins <charles.perkins@earthlink.net>
>  wrote:

>> Please note that RFC 5444 does *not* prohibit requiring TTL=255.

> So noted.

>> I have pointed out this situation in earlier email.  This is yet another
>> after the fact constraint emanating from the RFC 5444 echo chamber.
>>
>> How many more unstated constraints, backed up by threats and insults,
>> do we need?  For myself, I would prefer if we were simply supposed to
>> adhere to RFC 5444, not all the hopes and dreams and mental
>> acrobatics of the authors of RFC 5444.

> Since you asked, I think the situation is something like this: 
> 1. For better or worse, the working group bought off on RFC 5444. 
> 2. We are trying to get working group approval of a routing protocol which is mandated to use RFC 5444.
> 3. The authors of RFC 5444 say the protocol does NOT comply with 5444 in its present form. 
> 4. Whether their non-compliance declaration is due to hopes, dreams, or mental acrobatics is largely moot - they *are*, after all, the *authors* of 5444.
> So in that situation, how do you expect consensus to be declared? The ultimate experts (e.g., the authors) say the protocol isn't compliant. They've said it reasonable nicely (Chris' statement below "...so let's use it properly... Anything else would make the situation, whether you view it as a great design or not, worse"); they've also said it with a lot of snark. I don't believe I've seen a threat. But if you'll point one out to me, I can put my co-chair hat on and email my ADs, because we don't tolerate threats.
 
> If you want, how about some text that is crafted along the lines of : 
> "Implementations desiring additional security may want to consider use of RFC 5082. This would require AODVv2 to run with its own discrete RFC5444 parser, and said parser must include the ability to set TTL=255. However, this implementation choice precludes using a common parser to service AODVv2 and other RFC 5444-compliant protocols (e.g., OLSRv2, NHDP) simultaneously."


<...  which is what I think we should do ...>

===================== Next Issue from Issue Tracker ======================
[manet] #
==========================================================================

On 9/15/2014 5:08 PM, Christopher Dearlove wrote:
> On 15 Sep 2014, at 14:35, Stan Ratliff (sratliff) wrote:
>> Given that 5498 allocates a protocol number of 5444 (specifically, protocol number 138), I've still got pretty substantial heartburn with running layer 3 over layer 4. 
>
> I'm not understanding that point. If you run directly over IP, what is at level 4?

============================================================================

On 9/15/2014 5:34 PM, Stan Ratliff (sratliff) wrote:
> The point I was trying to make was that, earlier in this thread, you alluded to the difficulty of assigning protocol numbers as a rationale for running 5444 over sockets (hence, my classification of routing protocols over 5444 as "running layer 3 over layer 4").  However, 5498 allocates one of those precious protocol numbers to 5444…  
> So I (still) stand by my objection to running sockets' based 5444, and I note that acquiring a protocol number isn't an issue, since one is already allocated. 
============================================================================

On 9/15/2014 11:16 PM, Christopher Dearlove wrote:
> The point about protocol numbers is that yes, one is allocated. To 5444. Shared between all the MANET protocols. The multiplexer made that possible. Getting a protocol number for each MANET protocol on the other hand might have been harder.

>> On 16 Sep 2014, at 01:34, "Stan Ratliff (sratliff)" <sratliff@cisco.com> wrote:
>>
>> The point I was trying to make was that, earlier in this thread, you alluded to the difficulty of assigning protocol numbers as a rationale for running 5444 over sockets (hence, my classification of routing protocols over 5444 as "running layer 3 over layer 4").  However, 5498 allocates one of those precious protocol numbers to 5444…  
>> So I (still) stand by my objection to running sockets' based 5444, and I note that acquiring a protocol number isn't an issue, since one is already allocated. 

============================================================================

On 9/19/2014 2:23 AM, Henning Rogge wrote:
> Just to add something about running code,
>
> I just added an option to my RFC5444 (de)multiplexer code that allows
> to use the raw-ip socket instead of the UDP one. You can set this per
> interface in the configuration.
>
> Henning Rogge

===================== Next Issue from Issue Tracker ======================
[manet] #46: What is needed from IP and ICMP (submitted for Chris Dearlove)
==========================================================================

On 7/20/2014 8:42 PM, manet issue tracker wrote:
> #46: What is needed from IP and ICMP (submitted for Chris Dearlove)
>
>  The protocol needs many things from IP, such as failed routing
>  notification, and interacts with it in ways such as queuing packets.
>  It also interacts (sends and receives) with ICMP, and I'm not sure
>  what else. This needs to be put together, so the reader can see what
>  is needed to be able to implement this.

============================================================================

On 7/20/2014 9:39 PM, Charles E. Perkins wrote:
>
> Hello Chris,
>
> I am pretty sure that the only things needed from IP and ICMP are
> features that are already mandated by IP (including ICMP).  If there
> were danger that AODVv2 might require optional features of IP or
> optional features of ICMP, I could understand your concern.  As it is,
> I do not understand exactly what is needed to enhance implementability
> of the specification.
>
> The only thing expected from ICMP is delivery of Destination Unreachable
> (Type 3 Code 1).  Is this something that implementations are unlikely
> to provide?
>
> I am confused about what (other than ICMP) AODVv2 "needs" from
> IP that could cause a problem.  True, we do expect IP to find the proper
> outgoing interface, and to perform longest-prefix-first matching, and
> so on...
>
> Do you have an example of some other protocol specification that
> lists these kinds of dependencies?

============================================================================

On 7/22/2014 5:37 AM, Dearlove, Christopher (UK) wrote:
> Just for a start you also need to know that IP routes are requested, that packets are flowing, and to have the ability to queue packets. I'm pretty sure not all of those are mandated by IP. The routing protocol also needs to see ICMP messages - is that normal?
>
> As I said, it's a matter of what the whole architecture looks like.

============================================================================

On 9/7/2014 3:01 PM, Abdussalam Baryun wrote:
> Hi Chris,
> I think you may misunderstand MANET  reactive routing. I don't see your reply answers the editor question of examples of AODVv2 needs from IP or ICMP. You mention that the protocol needs to see ICMP, what is the problem with that as RFC3561 already has similar issue and already accepted by WG. 

============================================================================

On 9/7/2014 3:06 PM, Christopher Dearlove wrote:
> First, I think you'll find I understand everything a lot better than either you do, or you think I do.
> Second, AODV was an experimental protocol. AODVv2 is aiming at Proposed Standard. Which requires a higher standard - which it doesn't meet, AODVv1 was actually better specified than AODVv2 is.

============================================================================

On 9/8/2014 10:20 AM, Charles E. Perkins wrote:

> On Tuesday, July 22, 2014, Dearlove, Christopher (UK) wrote something that Charlie interprets as follows:
>> AODVv2 needs the following:
>>     - information that IP routes are requested
>>     - information that packets are flowing
>>     - the ability to queue packets.
>
> Tautologically, a reactive protocol reacts when a route is needed.
> One might say that a route is requested when an application tries to
> send a packet.  The fundamental concept of reactive routing is to
> avoid creating routes that are not needed, and the way that has been
> used to know whether a route is needed is when an application tries
> to send a packet.
>
> If an application tries to send a packet, and the route is available, the
> packet has to wait until the route is available.  So, yes, queuing a
> packet is needed.
>
> This has been known for 20 years.

============================================================================

On 9/8/2014 10:45 AM, Christopher Dearlove wrote:

> But the point is, as you agree, this is not normal in the Internet. Doesn't matter if this has been known in the ad hoc routing field for 20 years. This is intended to be a proposed standard in what is the wider Internet community. Which experience has shown is not familiar with these matters, or various other things, some of them simpler.
> This needs specifying for that reason. And also because people who want to implement it know what capabilities they need. If they need queueing in the IP stack they need to be told they need queuing in the IP stack. And that makes it clear this needs to be more than a routing protocol if that capability is not available as standard, which I think you just agreed it's not. Knowledge in the ad hoc routing community isn't enough.

============================================================================

On 7/20/2014 8:43 PM, manet issue tracker wrote:
> #47: Security approach unacceptable (submitted for Chris Dearlove)
>
>  The security approach is unacceptable. The security
>  directorate and ADs refused to accept this from OLSRv2. They will
>  refuse to accept this from this protocol. Incidentally note that
>  references to RFC 6621 should be to RFC 6622, except now to RFC 7182.

============================================================================

On 7/22/2014 9:51 AM, Henning Rogge wrote:
> On Tue, Jul 22, 2014 at 6:39 PM, Dearlove, Christopher (UK)
> <chris.dearlove@baesystems.com> wrote:
>> I would suggest outlining the basic concept on list. Doesn't need a detailed writeup to start with. In fact doing so might minimise the number of writeups and re-writeups.
>
> We might copy the basic security concept of OLSRv2... shared group key
> should work for AODVv2 too, because its just a replacement for layer-2
> security for most MANETs.

============================================================================

On 7/22/2014 10:21 AM, Henning Rogge wrote:
> On Tue, Jul 22, 2014 at 7:18 PM, Thomas Clausen
> <thomas@thomasclausen.org> wrote:
>> Well, RFC7182 just defines ICV and TIMESTAMP TLVs for inclusion in RFC5444 messages, packets, and does IANA allocations for code-points, etc. That, certainly, should be reusable and be reused.
>>
>> RFC7183 may, or may not, be applicable as a blueprint. Although, I reiterate, that it does not protect against the various attacks possible in a reactive protocol by way of an attacker generating data traffic (i.e., "non control packets").
>
> Spoofed ICMP messages to make a router drop a route?
>
>> Doesn't all this, then, become a matter of "secure only when running over a secured L2"?
>
> If you have a secure L2, you just need an ACL and you have similar
> security than a HMAC based on a shared key...

===================== Next Issue from Issue Tracker ======================
[manet] #48: Single address per interface per router
             (submitted for Chris Dearlove)
==========================================================================

On 7/20/2014 8:46 PM, manet issue tracker wrote:
> #48: Single address per interface per router (submitted for Chris Dearlove)
>
>  The model is of routers with a single address per interface. In OLSRv2
>  this wasn't considered acceptable. The authors defined multiple addresses
>  per interface, the WG required supporting unnumbered interfaces which
>  shared addresses.

============================================================================

On 7/20/2014 9:45 PM, Charles E. Perkins wrote:
>
> Hello Chris,
>
> AODVv2 does not impose this restriction.  It has, for a long time,
> enabled multiple router addresses per interface.  I will look again,
> but as of now I do not see where any such restriction has been
> imposed.  If you have identified where this restriction is implied
> or stated directly, please let me know as soon as possible.
>
> Unnumbered interfaces have never been suggested as appropriate
> for inclusion of the feature set for any reactive protocol that was
> under consideration within [manet], all the way since the very
> initiation of the working group.  At least not within my memory. 

============================================================================

On 7/22/2014 5:39 AM, Dearlove, Christopher (UK) wrote:
> In at least one place in the draft (sorry, I don't have the time to find it again now) it explicitly says one address per interface.

============================================================================

On 7/22/2014 6:18 AM, Thomas Heide Clausen wrote:
>> On 22 Jul 2014, at 14:39 , Dearlove, Christopher (UK) <Chris.Dearlove@baesystems.com> wrote:
>> In at least one place in the draft (sorry, I don't have the time to find it again now) it explicitly says one address per interface.
>>
> Not sure if this is the place that Chris is thinking of, but in my review I encountered things such as:
>  Blacklist.Node
>       The IP address of the node that did not verify bidirectional
>       connectivity.
> Which looks like it is assumed that a “node” (I assume that this means “router” and will be fixed in a coming version, as has been requested multiple times) has a single IP address (that’s what the use of the definite article implies, is it not?)
> Also:
>  AODVv2 supports routers with
>    multiple interfaces, as long as each interface has its own (unicast
>    routeable) IP address
> “address” - singular, not plural.

============================================================================

On 7/22/2014 6:22 AM, Henning Rogge wrote:

> does this mean we cannot run AODVv2 with IPv6 linklocal addresses? In
> the presence of VLAN interfaces these addresses can be the same for
> multiple interfaces of the same node.

============================================================================

On 7/22/2014 9:14 AM, Charles E. Perkins wrote:

> OLSRv2 is much more demanding regarding the determination of which
> IP addresses belong to which routers.  Basically, AODVv2 does not care.
> DSR did not care either.  In fact, I am not aware of any reactive protocol
> for which this was ever an issue.  What matters is the establishment of
> a routing path from source to destination.
>
> I will fix the wording about handling blacklisted addresses as suggested.
> If you have other instances, please do not hesitate to point them out.

===================== Next Issue from Issue Tracker ======================
[manet] #49: Locating pseudocode in appendix (submitted for Chris Dearlove)
==========================================================================

On 7/20/2014 8:47 PM, manet issue tracker wrote:
> #49: Locating pseudocode in appendix (submitted for Chris Dearlove)
>
>  Appendix A. If pseudo-code is needed to explain the algorithms, it
>  needs to be in the main body. If the main body is considered complete
>  (and this is at the detail level I've not read) I'm not sure exactly
>  what this is offering. I's also too C-like (NULL for example) while
>  not being C (use of := - although not fully consistently). I don't
>  think the balance is right here.

============================================================================

On 7/20/2014 9:54 PM, Charles E. Perkins wrote:
>
> Hello Chris,
>
> Appendix A was developed in response to issue #23.  It is intended to
> assist with code development.  The main body is intended to contain the
> complete specification, and the appendix is intended to offer another way
> of guiding the development of the code.  The explanation of the protocol
> in the main body should not only provide the mandates and options, but
> also provide the explanation and understanding for the inclusion of the
> protocol features.
>
> Appendix A is certainly not intended to be confused with compilable code.
> I used various syntactic devices that I have seen elsewhere in many places;
> terminology like "NULL" and ":=" is pretty unambiguous. Nevertheless,
> I am definitely open to suggestion.  What are your preferences?
>
> I don't yet understand the manner in which the algorithms are not
> balanced.  However, this appendix has been undergoing many changes
> during the last several weeks, and I expect that there will be more
> corrections and improvements. 

===================== Next Issue from Issue Tracker ======================
[manet] #50: Weak gateway support (submitted for Chris Dearlove)
==========================================================================

On 7/20/2014 8:49 PM, manet issue tracker wrote:
> #50: Weak gateway support (submitted for Chris Dearlove)
>
>  Gateway support is weak - OLSRv2 can support multiple gateways with
>  the same, or overlapping, address ranges.

===================== Next Issue from Issue Tracker ======================
[manet] #56: Issue concerning RREQ redundancy check methodology and order
==========================================================================

On 10/8/2014 9:18 AM, manet issue tracker wrote:
> #56: Issue concerning RREQ redundancy check methodology and order
>
>  The check for redundancy of a RREQ is described in section 7.5.1, which is
>  ''after'' section 7.5., which instructs the implementor to update the
>  routing table with the info contained in a received RteMsg (with reference
>  to Section 6.1.). In consequence, if the implementor applied the checks in
>  the order of the sections they're described in, the check for redundancy
>  would take place ''after'' the routing table has been consulted.
>
>  I would like to address two issues concerning the updating process
>  described above.

>  1) Following this scheme, a RREQ that is “redundant”, but with a better
>  metric, would update the routing table, but *not* the RREQ table, since
>  the RREQ Table only checks for metric Type, but not for metric value.
>  In consequence, it would also not lead to a rebroadcasting of the new,
>  better (in terms of metric) RREQ.
>  This doesn't make sense to me, am I missing something here or is this in
>  fact a defect?
>
>  2) Consider the following scenario:
>
>  Suppose a router A starts a route discovery. An intermediate router B
>  receives two RREQs from two different neighbor routers (let's call them C
>  and D). These RREQs both stem from the same route discovery initiated by
>  A. Suppose the RREQ forwarded by C arrives first, leading to an update of
>  the routing and RREQ table if B. Then, the RREQ forwarded by D arrives
>  second at B. Because a redundant RREQ has the same SeqNum as its
>  predecessor(s), the check
>
>  {{{
>    Stale::  RteMsg.SeqNum < Route.SeqNum
>  }}}
>
>  will fail, leading to an update of B's routing table with the information
>  of the redundant RREQ-- if the metric info of the redundant RREQ was
>  a) equal or
>  b) better.
>
>  In case a), since the check for RREQ redundancy is performed ''after'' the
>  routing table update, redundant RREQs may “update” the routing table with
>  the exact same data it held before. This seems like computational overhead
>  to me which could be solved by first checking the RREQ for redundancy and
>  only updating the Routing table if this check turned out negative.
>  However, this solution would only work if the RREQ table checked not only
>  metric type, but metric value, as suggested in 1).
>  Another solution would be to keep the order (routing table update, then
>  RREQ table redundancy check) only update the routing table in case b).
>  This would still involve an extra call to the routing table, but saves the
>  effort of copying redundant data.

===================== Next Issue from Issue Tracker ======================
[manet] #
==========================================================================

On 10/16/2014 2:18 PM, manet issue tracker wrote:
> #57: Need to further restrict "LoopFree" condition
>
>  Kedar Namjoshi (Bell Labs) and Richard Trefler (University of Waterloo)
>  have demonstrated a counterexample to the "!LoopFree" condition in the
>  AODVv2 document.  As a result, it is necessary to further restrict the
>  condition as follows:
>          !LoopFree (R1, R2) is true if
>                  Cost(R1) <= Cost(R2)
>  or, in context
>                  Cost(!RteMsg) <= Cost(Route)
>
>  With this formulation, loop freedom can be guaranteed.  A proof has been
>  submitted.

============================================================================

On 10/16/2014 2:24 PM, Charles E. Perkins wrote:

> Please excuse the extraneous '!' symbols in the text below.  It's an artifact of what's
> required to make Trak happy, and it seems to me that the software should remove
> them before sending to the mailing list.



=========================== Next Issue ===================================
[manet] #58: Definitions of OrigNode and TargNode (Submitted for Justin Dean)
==========================================================================

On 12/18/2014 7:22 PM, manet issue tracker wrote:
> #58: Definitions of OrigNode and TargNode (Submitted for Justin Dean)
>
>  The definition of Originating Node (!OrigNode) (and !TargNode) are self
>  referencing and incomplete.  They should at least reference AODVv2 Router.
>  Also the terms !OrigNode and !TargNode are later used as what seems like
>  addresses in an AODVv2 message.  I suggest separating the definition of a
>  node (an AODVv2 Router?) from an address of that node/router (suggest
>  !OrigNodeAddr)

Proposed resolution:
	Agreed and done throughout the document.

=========================== Next Issue ===================================
[manet] #59: Use of the term "invalid" (Submitted for Justin Dean)
==========================================================================

On 12/18/2014 7:24 PM, manet issue tracker wrote:
> #59: Use of the term "invalid" (Submitted for Justin Dean)
>
>  The term "invalid" is used a few times when a more specific reference to
>  the defined term "broken" and/or "expired" should be used.

Proposed resolution:
	Agreed and reviewed throughout the document.

=========================== Next Issue ===================================
[manet] #60: Should OrigNode be included in the message header?
             (Submitted for Justin Dean)
==========================================================================

On 12/18/2014 7:27 PM, manet issue tracker wrote:
> #60: Should OrigNode be included in the message header? (Submitted for Justin
> Dean)
>
>  In the "!RteMsg Structure" section the list says that the !OrigNode should
>  be included in the message header, the packet diagram doesn't include this
>  information as it doesn't expand the message header.  This would be fine
>  but then the !OrigNode is then included again the address block which is
>  confusing.  Later it's described that !OrigNode should indeed be included
>  in the address block but it happens after the diagram.  Also, is there a
>  reason the !OrigNode is included twice?

Proposed resolution:
	To discuss.

OrigAddr in message header simplifies description of Address Blocks, and
is smaller.

OrigAddr in Address Block allows for address compression, makes Chris
happier.

Note: a long time ago, both OrigAddr and TargAddr were Message Header
fields, in closer conformance with RFC 3561.

=========================== Next Issue ===================================
[manet] #61: Difference between "broken" and "expired"
             (Submitted for Justin Dean)
==========================================================================

#61: Difference between "broken" and "expired" (Submitted for Justin Dean)

 It's not clear to me the difference between the states "broken" and
 "expired" (other than how they reached that state)  They are both invalid
 states and regardless of how the state was obtained the routes shouldn't
 be used.  The only difference I could find is that "expired" routes MAY be
 expunged while there is no such text regarding "broken" routes.  Broken is
 also used in reference to broken link and later !BrokenRoute without the
 terms being defined in the document definitions.  It may make sense to
 unify these states regardless of how they are obtained into a single term
 and reduce the number of states a route can have (unless there is
 something operationally different that should be done that I'm missing)


Proposed resolution:
	Add explanation of the difference between broken and expired.

=========================== Next Issue ===================================
[manet] #62: Inconsistency surrounding the "timed" state
           (Submitted for Justin Dean)
==========================================================================

On 12/18/2014 7:31 PM, manet issue tracker wrote:
> #62: Inconsistency surrounding the "timed" state (Submitted for Justin Dean)
>
>  The addition of the "timed" state requires updating in a few other places
>  in the document when route state is referenced.  The "Route Table Entry
>  Timeouts" section for example may need to be updated.


Proposed resolution:
	Change "timed state" to be "timed flag".

=========================== Next Issue ===================================
[manet] #63: {Orig,Targ}.Tail should be {Orig,Targ}.Mid
              (Submitted for Justin Dean)
==========================================================================

On 12/19/2014 6:34 AM, manet issue tracker wrote:
> #63: {Orig,Targ}.Tail should be {Orig,Targ}.Mid
>
>  Orig.Tail and Targ.Tail should be Orig.Mid and Targ.Mid as the Tail term
>  is used for common bits of an address among the addresses listed.


Proposed resolution:
	Agreed and done throughout the document.  Only appeared in Appendix.

